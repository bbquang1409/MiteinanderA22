<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Deutsch Lektion 3 - Joggen ist prima</title>
    <style>
        body { 
            font-family: system-ui, -apple-system, sans-serif; 
            background: linear-gradient(135deg, #f0f3f9, #e0e7ff); 
            margin: 0; 
            min-height: 100vh; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            padding: 15px; 
            box-sizing: border-box;
        }
        .quiz-card { 
            background: white; 
            width: 100%; 
            max-width: 520px; 
            padding: 28px; 
            border-radius: 24px; 
            box-shadow: 0 15px 50px rgba(0,0,0,0.15); 
            text-align: center; 
        }
        .flag { 
            width: 100px; height: 60px; 
            margin: 0 auto 20px; 
            display: flex; flex-direction: column; 
            border: 1px solid #ccc; border-radius: 5px; overflow: hidden;
        }
        .f-b { background: #000; flex: 1; } 
        .f-r { background: #d00; flex: 1; } 
        .f-g { background: #ff0; flex: 1; }
        h2 { color: #6c5ce7; margin: 0 0 10px; font-size: 2.1rem; }
        .subtitle { color: #555; margin-bottom: 28px; font-size: 1.1rem; }
        .word-de { font-size: 2.5rem; color: #6c5ce7; font-weight: 700; margin: 15px 0; }
        .info-de { color: #e67e22; font-size: 1.15rem; font-style: italic; margin: 10px 0 20px; }
        .example-de { 
            background: #f8fbff; padding: 18px; border-radius: 14px; 
            margin: 20px 0 28px; text-align: left; 
            border-left: 6px solid #6c5ce7; font-size: 1.1rem; line-height: 1.5; 
        }
        .opt-btn { 
            width: 100%; background: #fff; border: 2px solid #e0e0e0; 
            padding: 16px 18px; border-radius: 14px; margin: 10px 0; 
            font-size: 1.15rem; font-weight: 600; cursor: pointer; 
            transition: all 0.25s; text-align: left;
        }
        .opt-btn:hover:not(:disabled) { border-color: #6c5ce7; background: #f8f5ff; }
        .opt-btn:disabled { opacity: 0.75; cursor: not-allowed; }
        .main-btn { 
            width: 100%; padding: 18px; background: #6c5ce7; color: white; 
            border: none; border-radius: 16px; font-size: 1.2rem; font-weight: bold; 
            cursor: pointer; margin-top: 15px;
        }
        #feedback { font-size: 1.3rem; font-weight: bold; margin: 20px 0; min-height: 40px; }
        #stat, #score { font-size: 1rem; color: #666; margin-bottom: 15px; }
        .correct   { background: #e8f5e9 !important; border-color: #4caf50 !important; color: #1b5e20; }
        .wrong     { background: #ffebee !important; border-color: #e53935 !important; color: #b71c1c; }
        .highlight { background: #e8f5e9 !important; border-color: #4caf50 !important; font-weight: bold; cursor: pointer !important; }
    </style>
</head>
<body>
    <div class="quiz-card">
        <div id="start-screen">
            <div class="flag">
                <div class="f-b"></div><div class="f-r"></div><div class="f-g"></div>
            </div>
            <h2>Lektion 3</h2>
            <div class="subtitle">Zofia – Joggen ist prima!</div>
            <button class="main-btn" onclick="startApp()">STARTEN</button>
        </div>

        <div id="quiz-ui" style="display:none">
            <div id="stat"></div>
            <div class="word-de" id="w"></div>
            <div class="info-de" id="i"></div>
            <div class="example-de" id="e"></div>
            <div id="opts"></div>
            <div id="feedback"></div>
            <button id="next-btn" class="main-btn" style="display:none" onclick="nextQuestion()">WEITER</button>
        </div>

        <div id="end-screen" style="display:none">
            <h2 style="color:#27ae60">Fertig!</h2>
            <div id="score"></div>
            <button class="main-btn" onclick="restartQuiz()">NOCHMAL</button>
        </div>
    </div>

    <script>
        const vocabData = [
            {w: "der Anrufer", f: "der Anrufer, die Anrufer", e: "Aber sie möchte mit dem ______ joggen.", o: ["Người gọi điện", "Người nhận cuộc gọi", "Bạn bè", "Hàng xóm"], a: 0},
            {w: "die Anruferin", f: "die Anruferin, die Anruferinnen", e: "Aber sie möchte mit dem Anrufer joggen.", o: ["Nữ người gọi điện", "Nữ người nhận cuộc gọi", "Bạn bè", "Hàng xóm"], a: 0},
            {w: "klettern", f: "klettern, ist geklettert", e: "Sie will nicht so gern ______. ", o: ["Leo trèo", "Chạy bộ", "Bơi lội", "Đi bộ"], a: 0},
            {w: "vorschlagen", f: "vorschlagen, hat vorgeschlagen", e: "Darf ich etwas ______?", o: ["Đề nghị", "Từ chối", "Chấp nhận", "Hỏi"], a: 0},
            {w: "der Vorschlag", f: "der Vorschlag, die Vorschläge", e: "Ich habe da einen ______. ", o: ["Đề nghị", "Ý kiến", "Kế hoạch", "Lời khuyên"], a: 0},
            {w: "zustimmen", f: "zustimmen, hat zugestimmt", e: "Sie / Er stimmt ______. ", o: ["Đồng ý", "Từ chối", "Hỏi lại", "Im lặng"], a: 0},
            {w: "einverstanden", f: "einverstanden", e: "______!", o: ["Đồng ý", "Từ chối", "Không biết", "Có lẽ"], a: 0},
            {w: "übermorgen", f: "übermorgen", e: "Vielleicht ______. ?", o: ["Ngày kia", "Hôm nay", "Ngày mai", "Hôm qua"], a: 0},
            {w: "das Stand-up-Paddling/SUP", f: "das Stand-up-Paddling/SUP (Sg.)", e: "Was findet Pekka interessanter? Klettern oder ______?", o: ["Chèo ván đứng", "Leo trèo", "Bơi lội", "Chạy bộ"], a: 0},
            {w: "das Yoga", f: "das Yoga (Sg.)", e: "Im Moment mag sie Aerial ______ am liebsten.", o: ["Yoga", "Thể dục", "Chạy bộ", "Bơi lội"], a: 0},
            {w: "die Fitness", f: "die Fitness (Sg.)", e: "______training oder Joggen?", o: ["Thể dục", "Yoga", "Chạy bộ", "Bơi lội"], a: 0},
            {w: "der Handball", f: "der Handball (Sg.)", e: "Ich mag ______ nicht so gern!", o: ["Bóng ném", "Bóng đá", "Bóng chuyền", "Bóng rổ"], a: 0},
            {w: "der Tennis", f: "der Tennis (Sg.)", e: "______ schauen oder Filme schauen?", o: ["Tennis", "Bóng đá", "Bóng chuyền", "Bóng rổ"], a: 0},
            {w: "der Sportler", f: "der Sportler, die Sportler", e: "Meine Lieblings______ lebt in den USA.", o: ["Vận động viên nam", "Vận động viên nữ", "Huấn luyện viên", "Khán giả"], a: 0},
            {w: "die Sportlerin", f: "die Sportlerin, die Sportlerinnen", e: "Meine Lieblings______ lebt in den USA.", o: ["Vận động viên nữ", "Vận động viên nam", "Huấn luyện viên", "Khán giả"], a: 0},
            {w: "springen", f: "springen, ist gesprungen", e: "Wer kann hoch ______?", o: ["Nhảy", "Chạy", "Bơi", "Leo"], a: 0},
            {w: "das Curry", f: "das Curry, die Currys", e: "Ich koche ______, weil das gerne essen.", o: ["Cà ri", "Phở", "Bún", "Cơm"], a: 0},
            {w: "das Karaoke", f: "das Karaoke (Sg.)", e: "Ich mag kein ______, weil viele Leute schlecht singen.", o: ["Karaoke", "Nhạc sống", "Phim", "Sách"], a: 0},
            {w: "die Langeweile", f: "die Langeweile (Sg.)", e: "Ich habe nie ______, weil ich gern und oft bastle.", o: ["Sự chán nản", "Sự vui vẻ", "Sự mệt mỏi", "Sự đói"], a: 0},
            {w: "basteln", f: "basteln, hat gebastelt", e: "Ich habe nie Langeweile, weil ich gern und oft ______. ", o: ["Làm thủ công", "Chơi thể thao", "Ăn uống", "Ngủ nghỉ"], a: 0},
            {w: "gemütlich", f: "gemütlich", e: "Wir gehen gern ins Café Rosenstein, weil es dort so ______. ist.", o: ["Thoải mái", "Ồn ào", "Lạnh lẽo", "Nóng bức"], a: 0},
            {w: "das Programm", f: "das Programm, die Programme", e: "Ich mache ein neues Fitness______. ", o: ["Chương trình", "Kế hoạch", "Lịch học", "Danh sách"], a: 0},
            {w: "der Luftballon", f: "der Luftballon, die Luftballons", e: "Ich habe ______s und Kerzen gekauft, weil ich eine Party feiere.", o: ["Bóng bay", "Bóng bàn", "Bóng đá", "Bóng chuyền"], a: 0},
            {w: "die Kerze", f: "die Kerze, die Kerzen", e: "Ich habe Luftballons und ______n gekauft, weil ich eine Party feiere.", o: ["Nến", "Đèn", "Đèn pin", "Đèn ngủ"], a: 0},
            {w: "beliebt", f: "beliebt", e: "Joggen ist am ______sten.", o: ["Phổ biến", "Ít phổ biến", "Khó", "Dễ"], a: 0},
            {w: "notieren", f: "notieren, hat notiert", e: "Ich habe 'Fußball' ______. ", o: ["Ghi chú", "Quên", "Nói", "Nghe"], a: 0},
            {w: "vorstellen", f: "vorstellen, hat vorgestellt", e: "Darf ich ______? Das ist ...", o: ["Giới thiệu", "Từ chối", "Chấp nhận", "Hỏi"], a: 0},
            {w: "die Kraft", f: "die Kraft, die Kräfte", e: "Mit SUP kann man ______ und Ausdauer trainieren.", o: ["Sức mạnh", "Sức bền", "Tốc độ", "Kỹ thuật"], a: 0},
            {w: "die Ausdauer", f: "die Ausdauer (Sg.)", e: "Mit SUP kann man Kraft und ______ trainieren.", o: ["Sức bền", "Sức mạnh", "Tốc độ", "Kỹ thuật"], a: 0},
            {w: "jemand", f: "jemand", e: "Kennt ______ von euch Dart?", o: ["Ai đó", "Không ai", "Mọi người", "Bạn bè"], a: 0},
            {w: "das Dart"
