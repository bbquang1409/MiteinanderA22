<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Deutsch Lektion 16 - Gute VorsÃ¤tze</title>
    <style>
        body { 
            font-family: system-ui, -apple-system, sans-serif; 
            background: linear-gradient(135deg, #f0f3f9, #e0e7ff); 
            margin: 0; 
            min-height: 100vh; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            padding: 15px; 
            box-sizing: border-box;
        }
        .quiz-card { 
            background: white; 
            width: 100%; 
            max-width: 520px; 
            padding: 28px; 
            border-radius: 24px; 
            box-shadow: 0 15px 50px rgba(0,0,0,0.15); 
            text-align: center; 
        }
        .flag { 
            width: 100px; height: 60px; 
            margin: 0 auto 20px; 
            display: flex; flex-direction: column; 
            border: 1px solid #ccc; border-radius: 5px; overflow: hidden;
        }
        .f-b { background: #000; flex: 1; } 
        .f-r { background: #d00; flex: 1; } 
        .f-g { background: #ff0; flex: 1; }
        h2 { color: #6c5ce7; margin: 0 0 10px; font-size: 2.1rem; }
        .subtitle { color: #555; margin-bottom: 28px; font-size: 1.1rem; }
        .word-de { font-size: 2.5rem; color: #6c5ce7; font-weight: 700; margin: 15px 0; }
        .info-de { color: #e67e22; font-size: 1.15rem; font-style: italic; margin: 10px 0 20px; }
        .example-de { 
            background: #f8fbff; padding: 18px; border-radius: 14px; 
            margin: 20px 0 28px; text-align: left; 
            border-left: 6px solid #6c5ce7; font-size: 1.1rem; line-height: 1.5; 
        }
        .opt-btn { 
            width: 100%; background: #fff; border: 2px solid #e0e0e0; 
            padding: 16px 18px; border-radius: 14px; margin: 10px 0; 
            font-size: 1.15rem; font-weight: 600; cursor: pointer; 
            transition: all 0.25s; text-align: left;
        }
        .opt-btn:hover:not(:disabled) { border-color: #6c5ce7; background: #f8f5ff; }
        .opt-btn:disabled { opacity: 0.75; cursor: not-allowed; }
        .main-btn { 
            width: 100%; padding: 18px; background: #6c5ce7; color: white; 
            border: none; border-radius: 16px; font-size: 1.2rem; font-weight: bold; 
            cursor: pointer; margin-top: 15px;
        }
        #feedback { font-size: 1.3rem; font-weight: bold; margin: 20px 0; min-height: 40px; }
        #stat, #score { font-size: 1rem; color: #666; margin-bottom: 15px; }
        .correct   { background: #e8f5e9 !important; border-color: #4caf50 !important; color: #1b5e20; }
        .wrong     { background: #ffebee !important; border-color: #e53935 !important; color: #b71c1c; }
        .highlight { background: #e8f5e9 !important; border-color: #4caf50 !important; font-weight: bold; cursor: pointer !important; }
    </style>
</head>
<body>
    <div class="quiz-card">
        <div id="start-screen">
            <div class="flag">
                <div class="f-b"></div><div class="f-r"></div><div class="f-g"></div>
            </div>
            <h2>Lektion 16</h2>
            <div class="subtitle">Gute VorsÃ¤tze â€“ Alles Samir</div>
            <button class="main-btn" onclick="startApp()">STARTEN</button>
        </div>

        <div id="quiz-ui" style="display:none">
            <div id="stat"></div>
            <div class="word-de" id="w"></div>
            <div class="info-de" id="i"></div>
            <div class="example-de" id="e"></div>
            <div id="opts"></div>
            <div id="feedback"></div>
            <button id="next-btn" class="main-btn" style="display:none" onclick="nextQuestion()">WEITER</button>
        </div>

        <div id="end-screen" style="display:none">
            <h2 style="color:#27ae60">Fertig!</h2>
            <div id="score"></div>
            <button class="main-btn" onclick="restartQuiz()">NOCHMAL</button>
        </div>
    </div>

    <script>
        const vocabData = [
            // Tá»« vá»±ng Lektion 16 (Ä‘áº§y Ä‘á»§ tá»« áº£nh anh paste)
            {w: "vorhaben", f: "vorhaben, hat vorgehabt", e: "Was hast du nÃ¤chstes Jahr ______?", o: ["Dá»± Ä‘á»‹nh", "LÃ m", "Ä‚n", "Uá»‘ng"], a: 0},
            {w: "verantwortlich", f: "verantwortlich", e: "Als ich vor 70 Jahren geboren wurde, waren fast nur die MÃ¼tter fÃ¼r die kleinen Kinder ______. ", o: ["Chá»‹u trÃ¡ch nhiá»‡m", "Vui váº»", "Buá»“n", "Má»‡t má»i"], a: 0},
            {w: "inzwischen", f: "inzwischen", e: "Das hat sich ______ geÃ¤ndert.", o: ["Trong khi Ä‘Ã³", "TrÆ°á»›c Ä‘Ã¢y", "Sau nÃ y", "BÃ¢y giá»"], a: 0},
            {w: "der Anfang", f: "der Anfang, die AnfÃ¤nge", e: "Heute machen auch viele VÃ¤ter von ______ an bei der Kindererziehung mit.", o: ["Báº¯t Ä‘áº§u", "Káº¿t thÃºc", "Giá»¯a", "Cuá»‘i"], a: 0},
            {w: "die Erziehung", f: "die Erziehung (Singular)", e: "Heute machen auch viele VÃ¤ter von Anfang an bei der Kinder______ mit.", o: ["GiÃ¡o dá»¥c", "ChÆ¡i Ä‘Ã¹a", "Ä‚n uá»‘ng", "Ngá»§ nghá»‰"], a: 0},
            {w: "die Mitternacht", f: "die Mitternacht, die MitternÃ¤chte", e: "Oft bleibe ich bis ______ auf.", o: ["Ná»­a Ä‘Ãªm", "Buá»•i sÃ¡ng", "Buá»•i chiá»u", "Buá»•i tá»‘i"], a: 0},
            {w: "aufbleiben", f: "aufbleiben, ist aufgeblieben", e: "Oft ______ ich bis Mitternacht auf.", o: ["Thá»©c khuya", "Ngá»§ sá»›m", "Ä‚n khuya", "Äi ngá»§"], a: 0},
            {w: "der Liebeskummer", f: "der Liebeskummer (Singular)", e: "Wann hattest du zum ersten Mal ______?", o: ["Ná»—i Ä‘au tÃ¬nh yÃªu", "Ná»—i buá»“n", "Niá»m vui", "Sá»± giáº­n dá»¯"], a: 0},
            {w: "die Muschel", f: "die Muschel, die Muscheln", e: "Ich habe noch nie Muscheln gegessen. ______ hast du zum ersten Mal Lagerfeuer gemacht?", o: ["Con sÃ²", "Con á»‘c", "Con cua", "Con cÃ¡"], a: 0},
            {w: "das Gewissen", f: "das Gewissen, die Gewissen", e: "Hattest du schon mal ein schlechtes ______?", o: ["LÆ°Æ¡ng tÃ¢m", "Ã kiáº¿n", "Suy nghÄ©", "Cáº£m xÃºc"], a: 0},
            {w: "die Entscheidung", f: "die Entscheidung, die Entscheidungen", e: "Wann haben Sie eine wichtige ______ getroffen?", o: ["Quyáº¿t Ä‘á»‹nh", "Ã kiáº¿n", "Káº¿ hoáº¡ch", "HÃ nh Ä‘á»™ng"], a: 0},
            {w: "das Ostern", f: "das Ostern (Singular)", e: "Die Kurs party findet im FrÃ¼hling statt, am besten nach ______. ", o: ["Lá»… Phá»¥c sinh", "Lá»… GiÃ¡ng sinh", "Táº¿t NguyÃªn Ä‘Ã¡n", "Lá»… Halloween"], a: 0},
            {w: "das Silvester", f: "das Silvester (Singular)", e: "Mir gefÃ¤llt auch, dass sich alle Leute in der Silvesternacht um 00:00 Uhr gegenseitig ______ wÃ¼nschen.", o: ["Giao thá»«a", "Lá»… Phá»¥c sinh", "Lá»… GiÃ¡ng sinh", "Sinh nháº­t"], a: 0},
            {w: "der Heiligabend", f: "der Heiligabend, die Heiligabende", e: "In Deutschland feiert man Weihnachten drei Tage lang: am Heiligabend, am ersten und zweiten Weihnachtsfeiertag.", o: ["ÄÃªm GiÃ¡ng sinh", "NgÃ y GiÃ¡ng sinh", "Giao thá»«a", "Lá»… Phá»¥c sinh"], a: 0},
            {w: "der Weihnachtsfeiertag", f: "der Weihnachtsfeiertag, die Weihnachtsfeiertage", e: "In Deutschland feiert man Weihnachten drei Tage lang: am Heiligabend, am ersten und zweiten ______. ", o: ["NgÃ y lá»… GiÃ¡ng sinh", "NgÃ y lá»… Phá»¥c sinh", "NgÃ y giao thá»«a", "NgÃ y sinh nháº­t"], a: 0},
            {w: "der Kompromiss", f: "der Kompromiss, die Kompromisse", e: "Das ist doch ein guter ______. ", o: ["Sá»± thá»a hiá»‡p", "Quyáº¿t Ä‘á»‹nh", "Káº¿ hoáº¡ch", "Ã kiáº¿n"], a: 0},
            {w: "der Zauberer", f: "der Zauberer, die Zauberer", e: "Eine ______ ist wichtig bei einer Party.", o: ["PhÃ¹ thá»§y", "NgÆ°á»i chÆ¡i", "Báº¡n bÃ¨", "NgÆ°á»i dáº«n chÆ°Æ¡ng trÃ¬nh"], a: 0},
            {w: "die Zauberin", f: "die Zauberin, die Zauberinnen", e: "Eine ______ ist wichtig bei einer Party.", o: ["Ná»¯ phÃ¹ thá»§y", "NgÆ°á»i chÆ¡i", "Báº¡n bÃ¨", "NgÆ°á»i dáº«n chÆ°Æ¡ng trÃ¬nh"], a: 0},
            {w: "die Dekoration", f: "die Dekoration, die Dekorationen", e: "Wer kÃ¼mmert sich um die ______?", o: ["Trang trÃ­", "Ã‚m nháº¡c", "Äá»“ Äƒn", "TrÃ² chÆ¡i"], a: 0},
            {w: "die AktivitÃ¤t", f: "die AktivitÃ¤t, die AktivitÃ¤ten", e: "Wollt ihr ein paar ______ planen?", o: ["Hoáº¡t Ä‘á»™ng", "MÃ³n Äƒn", "BÃ i hÃ¡t", "TrÃ² chÆ¡i"], a: 0},
            {w: "einfallen", f: "einfallen, ist eingefallen", e: "Wenn Ihnen gute WÃ¼nsche denken, fÃ¤llt Ihnen da ein?", o: ["Náº£y ra Ã½ tÆ°á»Ÿng", "QuÃªn", "Nhá»›", "Há»i"], a: 0},
            {w: "die Stimme", f: "die Stimme, die Stimmen", e: "Man hat aber keine Musik gehÃ¶rt, keine ______. ", o: ["Giá»ng nÃ³i", "Ã‚m nháº¡c", "Tiáº¿ng cÆ°á»i", "Tiáº¿ng khÃ³c"], a: 0},
            {w: "klatschen", f: "klatschen, hat geklatscht", e: "Sie haben geklatscht und ganz laut gerufen.", o: ["Vá»— tay", "HÃ¡t", "Nháº£y", "NÃ³i"], a: 0},
            {w: "bestehen", f: "bestehen, hat bestanden", e: "Herzlichen GlÃ¼ckwunsch zum bestandenen ______!", o: ["VÆ°á»£t qua", "Tháº¥t báº¡i", "Bá» cuá»™c", "Tham gia"], a: 0},
            {w: "die Hoffnung", f: "die Hoffnung, die Hoffnungen", e: "In allen ist eine groÃŸe ______. ", o: ["Hy vá»ng", "Ná»—i sá»£", "Niá»m vui", "Sá»± giáº­n dá»¯"], a: 0},
            {w: "wahnsinnig", f: "wahnsinnig", e: "Das fand ich ______ kind!", o: ["ÄiÃªn rá»“", "Tuyá»‡t vá»i", "BÃ¬nh thÆ°á»ng", "Tá»‡ háº¡i"], a: 0},
            {w: "die Vergangenheit", f: "die Vergangenheit (Singular)", e: "Man schaut zurÃ¼ck in die ______. ", o: ["QuÃ¡ khá»©", "Hiá»‡n táº¡i", "TÆ°Æ¡ng lai", "HÃ´m nay"], a: 0},
            {w: "die Haut", f: "die Haut, die HÃ¤ute", e: "Weil ich dunkle Haut habe, passiert mir das leider oft.", o: ["Da", "TÃ³c", "Máº¯t", "MÅ©i"], a: 0},
            {w: "der Pass", f: "der Pass, die PÃ¤sse", e: "Die Polizisten wollten meinen ______ sehen.", o: ["Há»™ chiáº¿u", "VÃ©", "Giáº¥y tá»", "Chá»©ng minh thÆ°"], a: 0},
            {w: "zurÃ¼ckgeben", f: "zurÃ¼ckgeben, hat zurÃ¼ckgegeben", e: "Sie haben kurz reingeschaut und ihn mir ______.", o: ["Tráº£ láº¡i", "Láº¥y Ä‘i", "Giá»¯ láº¡i", "Há»§y"], a: 0}
        ];

        let currentQuestion = 0;
        let score = 0;

        const positiveFeedback = ["Gut gemacht!", "Sehr gut!", "Super!", "Toll!", "Weiter so!", "Prima!", "Genau richtig!"];
        const negativeFeedback = ["Leider falsch!", "Noch nicht richtig!", "Versuch es noch einmal!", "Nicht ganz richtig!", "Schade!", "Falsch!"];

        function speakGerman(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'de-DE';
                utterance.rate = 0.9;
                utterance.volume = 0.9;
                const voices = speechSynthesis.getVoices();
                const deVoice = voices.find(v => v.lang.startsWith('de-'));
                if (deVoice) utterance.voice = deVoice;
                speechSynthesis.cancel();
                speechSynthesis.speak(utterance);
            }
        }

        function startApp() {
            currentQuestion = 0;
            score = 0;
            document.getElementById("start-screen").style.display = "none";
            document.getElementById("end-screen").style.display = "none";
            document.getElementById("quiz-ui").style.display = "block";
            showQuestion();
        }

        function showQuestion() {
            if (currentQuestion >= vocabData.length) {
                showResult();
                return;
            }
            const q = vocabData[currentQuestion];
            document.getElementById("stat").textContent = `Frage ${currentQuestion + 1} von ${vocabData.length}`;
            document.getElementById("w").textContent = q.w;
            document.getElementById("i").textContent = q.f;
            document.getElementById("e").innerHTML = q.e.replace(/______/g, "___");

            const optsDiv = document.getElementById("opts");
            optsDiv.innerHTML = "";
            q.o.forEach((opt, idx) => {
                const btn = document.createElement("button");
                btn.className = "opt-btn";
                btn.textContent = opt;
                btn.onclick = () => handleClick(idx, btn, q);
                optsDiv.appendChild(btn);
            });

            document.getElementById("feedback").textContent = "";
            document.getElementById("next-btn").style.display = "none";
        }

        function handleClick(selectedIdx, btn, q) {
            const allBtns = document.querySelectorAll(".opt-btn");

            if (allBtns[0].disabled) {
                if (selectedIdx === q.a) {
                    speakGerman(q.f);
                }
                return;
            }

            allBtns.forEach(b => b.disabled = true);

            if (selectedIdx === q.a) {
                score++;
                const msg = positiveFeedback[Math.floor(Math.random() * positiveFeedback.length)];
                document.getElementById("feedback").textContent = msg;
                document.getElementById("feedback").style.color = "#27ae60";
                btn.classList.add("correct");

                speakGerman("Richtig!");

                setTimeout(() => {
                    speakGerman(q.f);
                }, 2000);
            } else {
                const msg = negativeFeedback[Math.floor(Math.random() * negativeFeedback.length)];
                document.getElementById("feedback").textContent = msg;
                document.getElementById("feedback").style.color = "#e74c3c";
                btn.classList.add("wrong");

                allBtns[q.a].classList.add("highlight");

                speakGerman("Falsch!");

                setTimeout(() => {
                    speakGerman(q.f);
                }, 2000);
            }

            document.getElementById("next-btn").style.display = "block";
        }

        function nextQuestion() {
            currentQuestion++;
            showQuestion();
        }

        function showResult() {
            document.getElementById("quiz-ui").style.display = "none";
            document.getElementById("end-screen").style.display = "block";
            const percent = Math.round((score / vocabData.length) * 100);
            let comment = percent >= 85 ? "Ausgezeichnet! ðŸŒŸ" : percent >= 70 ? "Sehr gut! ðŸ‘" : percent >= 50 ? "Gut â€“ weiter Ã¼ben! ðŸ’ª" : "NÃ¤chstes Mal besser! ðŸ˜Š";
            document.getElementById("score").innerHTML = `Du hast <strong>${score}/${vocabData.length}</strong> richtig!<br>(${percent} %)<br><br>${comment}`;
        }

        function restartQuiz() {
            startApp();
        }
    </script>
</body>
</html>
