<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Deutsch Lektion 7 - Maria: Der Umzug</title>
    <style>
        body {
            font-family: system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #f0f3f9, #e0e7ff);
            margin: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 15px;
            box-sizing: border-box;
        }
        .quiz-card {
            background: white;
            width: 100%;
            max-width: 540px;
            padding: 28px;
            border-radius: 24px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.15);
            text-align: center;
        }
        .flag {
            width: 100px; height: 60px;
            margin: 0 auto 20px;
            display: flex; flex-direction: column;
            border: 1px solid #ccc; border-radius: 5px; overflow: hidden;
        }
        .f-b { background: #000; flex: 1; }
        .f-r { background: #d00; flex: 1; }
        .f-g { background: #ff0; flex: 1; }
        h2 { color: #6c5ce7; margin: 0 0 10px; font-size: 2.1rem; }
        .subtitle { color: #555; margin-bottom: 28px; font-size: 1.1rem; }
        .word-de { font-size: 2.3rem; color: #6c5ce7; font-weight: 700; margin: 15px 0; }
        .info-de { color: #e67e22; font-size: 1.1rem; font-style: italic; margin: 8px 0 18px; }
        .example-de {
            background: #f8fbff; padding: 16px; border-radius: 14px;
            margin: 18px 0 24px; text-align: left;
            border-left: 6px solid #6c5ce7; font-size: 1.05rem; line-height: 1.45;
        }
        .opt-btn {
            width: 100%; background: #fff; border: 2px solid #e0e0e0;
            padding: 14px 16px; border-radius: 12px; margin: 8px 0;
            font-size: 1.1rem; font-weight: 600; cursor: pointer;
            transition: all 0.25s; text-align: left;
        }
        .opt-btn:hover:not(:disabled) { border-color: #6c5ce7; background: #f8f5ff; }
        .opt-btn:disabled { opacity: 0.75; cursor: not-allowed; }
        .main-btn {
            width: 100%; padding: 16px; background: #6c5ce7; color: white;
            border: none; border-radius: 14px; font-size: 1.15rem; font-weight: bold;
            cursor: pointer; margin-top: 12px;
        }
        #feedback { font-size: 1.25rem; font-weight: bold; margin: 18px 0 10px; min-height: 35px; }
        #example-full { 
            margin: 15px 0; 
            padding: 15px; 
            background: #f0fff0; 
            border-radius: 12px; 
            font-size: 1.05rem; 
            text-align: left; 
            display: none; 
            border: 1px solid #c8e6c9;
        }
        #full-de { font-weight: bold; }
        #example-vn { 
            margin-top: 10px; 
            color: #444; 
            font-style: italic;
        }
        #stat, #score { font-size: 0.95rem; color: #666; margin-bottom: 12px; }
        .correct { background: #e8f5e9 !important; border-color: #4caf50 !important; color: #1b5e20; }
        .wrong { background: #ffebee !important; border-color: #e53935 !important; color: #b71c1c; }
        .highlight { background: #e8f5e9 !important; border-color: #4caf50 !important; font-weight: bold; cursor: pointer !important; }
    </style>
</head>
<body>
    <div class="quiz-card">
        <div id="start-screen">
            <div class="flag">
                <div class="f-b"></div><div class="f-r"></div><div class="f-g"></div>
            </div>
            <h2>Lektion 7</h2>
            <div class="subtitle">Maria â€“ Der Umzug</div>
            <button class="main-btn" onclick="startApp()">STARTEN</button>
        </div>
        <div id="quiz-ui" style="display:none">
            <div id="stat"></div>
            <div class="word-de" id="w"></div>
            <div class="info-de" id="i"></div>
            <div class="example-de" id="e"></div>
            <div id="opts"></div>
            <div id="feedback"></div>
            <div id="example-full">
                <strong>CÃ¢u Ä‘áº§y Ä‘á»§:</strong> <span id="full-de"></span><br>
                <span id="example-vn"></span>
            </div>
            <button id="next-btn" class="main-btn" style="display:none" onclick="nextQuestion()">WEITER</button>
        </div>
        <div id="end-screen" style="display:none">
            <h2 style="color:#27ae60">Fertig!</h2>
            <div id="score"></div>
            <button class="main-btn" onclick="restartQuiz()">NOCHMAL</button>
        </div>
    </div>

    <script>
        const vocabData = [
            {w: "einziehen", f: "einziehen, ist eingezogen", e: "Alma und Enrico kÃ¶nnen erst Ã¼bermorgen in die neue Wohnung ______ .", full: "Alma und Enrico kÃ¶nnen erst Ã¼bermorgen in die neue Wohnung einziehen.", vn: "Alma vÃ  Enrico pháº£i Ä‘á»£i Ä‘áº¿n ngÃ y kia má»›i dá»n vÃ o nhÃ  má»›i Ä‘Æ°á»£c.", o: ["dá»n vÃ o", "dá»n ra", "sá»­a chá»¯a", "bÃ¡n"], a: 0},
            {w: "renovieren", f: "renovieren, hat renoviert", e: "Zuerst mÃ¼ssen sie die neue Wohnung ______ .", full: "Zuerst mÃ¼ssen sie die neue Wohnung renovieren.", vn: "TrÆ°á»›c tiÃªn pháº£i sá»­a sang nhÃ  má»›i má»™t chÃºt.", o: ["sá»­a sang", "dá»n dáº¹p", "trang trÃ­", "xÃ¢y dá»±ng"], a: 0},
            {w: "die Wand", f: "die Wand, die WÃ¤nde", e: "Dann sind noch LÃ¶cher in der ______ .", full: "Dann sind noch LÃ¶cher in der Wand.", vn: "Sau Ä‘Ã³ váº«n cÃ²n lá»— trÃªn tÆ°á»ng.", o: ["tÆ°á»ng", "sÃ n nhÃ ", "tráº§n nhÃ ", "cá»­a"], a: 0},
            {w: "das Loch", f: "das Loch, die LÃ¶cher", e: "Ein ______ ist vorne im Flur.", full: "Ein Loch ist vorne im Flur.", vn: "CÃ³ má»™t cÃ¡i lá»— á»Ÿ hÃ nh lang phÃ­a trÆ°á»›c.", o: ["lá»—", "cá»­a sá»•", "cá»­a ra vÃ o", "báº­c thang"], a: 0},
            {w: "einrichten", f: "einrichten, hat eingerichtet", e: "Dann mÃ¼ssen sie ihre MÃ¶bel holen und die Wohnung ______ .", full: "Dann mÃ¼ssen sie ihre MÃ¶bel holen und die Wohnung einrichten.", vn: "Sau Ä‘Ã³ pháº£i mang Ä‘á»“ Ä‘áº¡c vÃ o vÃ  sáº¯p xáº¿p nhÃ  cá»­a.", o: ["sáº¯p xáº¿p nhÃ  cá»­a", "dá»n dáº¹p", "sá»­a chá»¯a", "trang trÃ­"], a: 0},
            {w: "vorne", f: "vorne", e: "Ein Loch ist ______ im Flur.", full: "Ein Loch ist vorne im Flur.", vn: "CÃ³ cÃ¡i lá»— á»Ÿ phÃ­a trÆ°á»›c hÃ nh lang.", o: ["phÃ­a trÆ°á»›c", "phÃ­a sau", "bÃªn trÃ¡i", "bÃªn pháº£i"], a: 0},
            {w: "oben", f: "oben", e: "Es ist ______ in der Wand.", full: "Es ist oben in der Wand.", vn: "NÃ³ á»Ÿ phÃ­a trÃªn tÆ°á»ng.", o: ["phÃ­a trÃªn", "phÃ­a dÆ°á»›i", "bÃªn trong", "bÃªn ngoÃ i"], a: 0},
            {w: "unten", f: "unten", e: "Es ist ______ in der Wand.", full: "Es ist unten in der Wand.", vn: "NÃ³ á»Ÿ phÃ­a dÆ°á»›i tÆ°á»ng.", o: ["phÃ­a dÆ°á»›i", "phÃ­a trÃªn", "bÃªn trong", "bÃªn ngoÃ i"], a: 0},
            {w: "die Ecke", f: "die Ecke, -n", e: "Ein Loch ist in der KÃ¼che, hinten in der ______ .", full: "Ein Loch ist in der KÃ¼che, hinten in der Ecke.", vn: "CÃ³ cÃ¡i lá»— trong báº¿p, á»Ÿ gÃ³c phÃ­a sau.", o: ["gÃ³c", "cá»­a sá»•", "cá»­a ra vÃ o", "bÃ n"], a: 0},
            {w: "die Bohrmaschine", f: "die Bohrmaschine, -n", e: "WÃ¼rdest du mir bitte die ______ mitbringen?", full: "WÃ¼rdest du mir bitte die Bohrmaschine mitbringen?", vn: "Báº¡n mang giÃºp mÃ¬nh cÃ¡i mÃ¡y khoan Ä‘Æ°á»£c khÃ´ng?", o: ["mÃ¡y khoan", "bÃºa", "cÆ°a", "kÃ¬m"], a: 0},
            {w: "der Kofferraum", f: "der Kofferraum, -e", e: "Die war ______ .", full: "Die war Kofferraum.", vn: "NÃ³ á»Ÿ cá»‘p xe.", o: ["cá»‘p xe", "gháº¿ sau", "báº£ng Ä‘iá»u khiá»ƒn", "kÃ­nh cháº¯n giÃ³"], a: 0},
            {w: "auÃŸerdem", f: "auÃŸerdem", e: "______ habe ich den MÃ¼ll rausgebracht.", full: "AuÃŸerdem habe ich den MÃ¼ll rausgebracht.", vn: "NgoÃ i ra mÃ¬nh cÃ²n vá»©t rÃ¡c ná»¯a.", o: ["ngoÃ i ra", "vÃ¬ váº­y", "tuy nhiÃªn", "nhÆ°ng"], a: 0},
            {w: "die Kiste", f: "die Kiste, -n", e: "Und ich habe auch noch eine ______ fÃ¼r Mama geholt.", full: "Und ich habe auch noch eine Kiste fÃ¼r Mama geholt.", vn: "MÃ¬nh cÃ²n láº¥y thÃªm cÃ¡i thÃ¹ng cho máº¹ ná»¯a.", o: ["thÃ¹ng", "tÃºi", "há»™p", "vali"], a: 0},
            {w: "drin", f: "drin", e: "Ich war ganz vorsichtig, weil Sachen aus Glas ______ waren.", full: "Ich war ganz vorsichtig, weil Sachen aus Glas drin waren.", vn: "MÃ¬nh cáº©n tháº­n láº¯m vÃ¬ bÃªn trong cÃ³ Ä‘á»“ thá»§y tinh.", o: ["bÃªn trong", "bÃªn ngoÃ i", "trÃªn", "dÆ°á»›i"], a: 0},
            {w: "mÃ¶glich", f: "mÃ¶glich", e: "Bitte mach das so bald wie ______ !", full: "Bitte mach das so bald wie mÃ¶glich!", vn: "LÃ m cÃ ng sá»›m cÃ ng tá»‘t nhÃ©!", o: ["cÃ ng sá»›m cÃ ng tá»‘t", "cháº­m nháº¥t", "khÃ´ng thá»ƒ", "cÃ³ thá»ƒ"], a: 0},
            {w: "selbstverstÃ¤ndlich", f: "selbstverstÃ¤ndlich", e: "______ !", full: "SelbstverstÃ¤ndlich!", vn: "ÄÆ°Æ¡ng nhiÃªn rá»“i!", o: ["Ä‘Æ°Æ¡ng nhiÃªn", "khÃ´ng Ä‘Ã¢u", "cÃ³ láº½", "cháº¯c cháº¯n"], a: 0},
            {w: "eilig", f: "eilig", e: "Ich muss zuerst noch diesen Schalter reparieren, ich bin ______ .", full: "Ich muss zuerst noch diesen Schalter reparieren, ich bin eilig.", vn: "MÃ¬nh pháº£i sá»­a cÃ¡i cÃ´ng táº¯c nÃ y trÆ°á»›c, Ä‘ang vá»™i láº¯m.", o: ["vá»™i", "ráº£nh", "má»‡t", "ngÃ¡p"], a: 0},
            {w: "der Schalter", f: "der Schalter, -", e: "Ich muss zuerst noch diesen ______ reparieren.", full: "Ich muss zuerst noch diesen Schalter reparieren.", vn: "MÃ¬nh pháº£i sá»­a cÃ¡i cÃ´ng táº¯c nÃ y trÆ°á»›c.", o: ["cÃ´ng táº¯c", "bÃ³ng Ä‘Ã¨n", "á»• cáº¯m", "dÃ¢y Ä‘iá»‡n"], a: 0},
            {w: "auf jeden Fall", f: "auf jeden Fall", e: "Das geht ______ .", full: "Das geht auf jeden Fall.", vn: "Cháº¯c cháº¯n Ä‘Æ°á»£c.", o: ["cháº¯c cháº¯n", "cÃ³ thá»ƒ", "khÃ´ng cháº¯c", "chÆ°a cháº¯c"], a: 0},
            {w: "das Dach", f: "das Dach, -er", e: "Kannst du bitte das ______ fenster putzen?", full: "Kannst du bitte das Dachfenster putzen?", vn: "Báº¡n lau giÃºp cá»­a sá»• trÃªn mÃ¡i Ä‘Æ°á»£c khÃ´ng?", o: ["mÃ¡i nhÃ ", "cá»­a sá»•", "tÆ°á»ng", "sÃ n"], a: 0},
            {w: "der Reifen", f: "der Reifen, -", e: "Kannst du bitte den ______ reparieren?", full: "Kannst du bitte den Reifen reparieren?", vn: "Báº¡n sá»­a giÃºp cÃ¡i lá»‘p xe Ä‘Æ°á»£c khÃ´ng?", o: ["lá»‘p xe", "Ä‘á»™ng cÆ¡", "phanh", "cá»­a xe"], a: 0},
            {w: "der Vermieter", f: "der Vermieter, -", e: "Kannst du bitte den ______ anrufen?", full: "Kannst du bitte den Vermieter anrufen?", vn: "Báº¡n gá»i cho chá»§ nhÃ  giÃºp Ä‘Æ°á»£c khÃ´ng?", o: ["chá»§ nhÃ ", "ngÆ°á»i thuÃª", "hÃ ng xÃ³m", "báº¡n bÃ¨"], a: 0},
            {w: "die KÃ¼ndigung", f: "die KÃ¼ndigung, -en", e: "Kannst du bitte die ______ schreiben?", full: "Kannst du bitte die KÃ¼ndigung schreiben?", vn: "Báº¡n viáº¿t thÆ° cháº¥m dá»©t há»£p Ä‘á»“ng giÃºp Ä‘Æ°á»£c khÃ´ng?", o: ["thÆ° cháº¥m dá»©t há»£p Ä‘á»“ng", "há»£p Ä‘á»“ng", "hÃ³a Ä‘Æ¡n", "thÆ° cáº£m Æ¡n"], a: 0},
            {w: "die Treppe", f: "die Treppe, -n", e: "Alma geht die ______ runter.", full: "Alma geht die Treppe runter.", vn: "Alma Ä‘i xuá»‘ng cáº§u thang.", o: ["cáº§u thang", "thang mÃ¡y", "cá»­a ra vÃ o", "hÃ nh lang"], a: 0},
            {w: "rauf", f: "rauf", e: "Dann trÃ¤gt sie die Bohrmaschine ______ .", full: "Dann trÃ¤gt sie die Bohrmaschine rauf.", vn: "Sau Ä‘Ã³ cÃ´ áº¥y mang mÃ¡y khoan lÃªn.", o: ["lÃªn", "xuá»‘ng", "vÃ o", "ra"], a: 0},
            {w: "rein", f: "rein", e: "Sie bringt vorsichtig die Kiste ______ .", full: "Sie bringt vorsichtig die Kiste rein.", vn: "CÃ´ áº¥y cáº©n tháº­n mang thÃ¹ng vÃ o.", o: ["vÃ o", "ra", "lÃªn", "xuá»‘ng"], a: 0},
            {w: "raus", f: "raus", e: "Und sie bringt den MÃ¼ll ______ .", full: "Und sie bringt den MÃ¼ll raus.", vn: "VÃ  cÃ´ áº¥y mang rÃ¡c ra ngoÃ i.", o: ["ra ngoÃ i", "vÃ o trong", "lÃªn", "xuá»‘ng"], a: 0},
            {w: "rÃ¼ber", f: "rÃ¼ber", e: "Dann geht sie ______ zu den Nachbarn.", full: "Dann geht sie rÃ¼ber zu den Nachbarn.", vn: "Sau Ä‘Ã³ cÃ´ áº¥y Ä‘i sang nhÃ  hÃ ng xÃ³m.", o: ["sang bÃªn kia", "vÃ o trong", "lÃªn trÃªn", "xuá»‘ng dÆ°á»›i"], a: 0},
            {w: "windig", f: "windig", e: "Wenn es sehr ______ ist und man auf einem Baum sitzt, muss man runterklettern.", full: "Wenn es sehr windig ist und man auf einem Baum sitzt, muss man runterklettern.", vn: "Khi trá»i giÃ³ to mÃ  ngá»“i trÃªn cÃ¢y thÃ¬ pháº£i trÃ¨o xuá»‘ng thÃ´i.", o: ["giÃ³ to", "mÆ°a to", "náº¯ng nÃ³ng", "láº¡nh"], a: 0},
            {w: "nebenan", f: "nebenan", e: "Wenn die Nachbarin von ______ ihre Tasche bei Ihnen vergessen hat, mÃ¼ssen Sie sie rÃ¼berbringen.", full: "Wenn die Nachbarin von nebenan ihre Tasche bei Ihnen vergessen hat, mÃ¼ssen Sie sie rÃ¼berbringen.", vn: "Khi bÃ  hÃ ng xÃ³m nhÃ  bÃªn quÃªn tÃºi á»Ÿ nhÃ  báº¡n thÃ¬ pháº£i mang sang cho bÃ  áº¥y.", o: ["nhÃ  bÃªn", "nhÃ  trÃªn", "nhÃ  dÆ°á»›i", "nhÃ  xa"], a: 0},
            {w: "das Paket", f: "das Paket, -e", e: "Wenn ein ______ fÃ¼r die Nachbarin im Dachgeschoss unten im Flur steht, kann man es rauftragen.", full: "Wenn ein Paket fÃ¼r die Nachbarin im Dachgeschoss unten im Flur steht, kann man es rauftragen.", vn: "Khi cÃ³ gÃ³i hÃ ng cho bÃ  hÃ ng xÃ³m á»Ÿ táº§ng Ã¡p mÃ¡i mÃ  Ä‘á»ƒ dÆ°á»›i hÃ nh lang thÃ¬ mang lÃªn cho bÃ  áº¥y.", o: ["gÃ³i hÃ ng", "tÃºi xÃ¡ch", "há»™p quÃ ", "thÃ¹ng rÃ¡c"], a: 0},
            {w: "organisieren", f: "organisieren, hat organisiert", e: "Du kannst mit einer Umzugsfirma umziehen oder den Umzug privat ______ .", full: "Du kannst mit einer Umzugsfirma umziehen oder den Umzug privat organisieren.", vn: "Báº¡n cÃ³ thá»ƒ thuÃª cÃ´ng ty chuyá»ƒn nhÃ  hoáº·c tá»± tá»• chá»©c chuyá»ƒn nhÃ .", o: ["tá»• chá»©c", "mua", "bÃ¡n", "thuÃª"], a: 0},
            {w: "der Hinweis", f: "der Hinweis, -e", e: "Schreiben Sie die Aufgaben und ______ auf KÃ¤rtchen.", full: "Schreiben Sie die Aufgaben und Hinweise auf KÃ¤rtchen.", vn: "Viáº¿t cÃ´ng viá»‡c vÃ  ghi chÃº lÃªn tháº» nhá».", o: ["ghi chÃº", "há»£p Ä‘á»“ng", "hÃ³a Ä‘Æ¡n", "thÆ°"], a: 0},
            {w: "die Aufgabe", f: "die Aufgabe, -n", e: "Schreiben Sie die ______ und Hinweise auf KÃ¤rtchen.", full: "Schreiben Sie die Aufgaben und Hinweise auf KÃ¤rtchen.", vn: "Viáº¿t cÃ´ng viá»‡c vÃ  ghi chÃº lÃªn tháº» nhá».", o: ["cÃ´ng viá»‡c", "ghi chÃº", "há»£p Ä‘á»“ng", "hÃ³a Ä‘Æ¡n"], a: 0},
            {w: "ausziehen", f: "ausziehen, ist ausgezogen", e: "Du ______ bald aus.", full: "Du ziehst bald aus.", vn: "Báº¡n sáº¯p dá»n ra khá»i nhÃ  rá»“i.", o: ["dá»n ra", "dá»n vÃ o", "sá»­a chá»¯a", "trang trÃ­"], a: 0},
            {w: "packen", f: "packen, hat gepackt", e: "Kannst du vielleicht ein paar Kisten ______ ?", full: "Kannst du vielleicht ein paar Kisten packen?", vn: "Báº¡n gÃ³i vÃ i thÃ¹ng Ä‘á»“ Ä‘Æ°á»£c khÃ´ng?", o: ["gÃ³i", "má»Ÿ", "mang", "Ä‘á»ƒ"], a: 0},
            {w: "der Wagen", f: "der Wagen, -", e: "Kannst du vielleicht den Umzugs______ bringen?", full: "Kannst du vielleicht den Umzugswagen bringen?", vn: "Báº¡n mang xe táº£i chuyá»ƒn nhÃ  Ä‘áº¿n Ä‘Æ°á»£c khÃ´ng?", o: ["xe táº£i", "xe mÃ¡y", "xe Ä‘áº¡p", "xe hÆ¡i"], a: 0},
            {w: "der Nagel", f: "der Nagel, -", e: "Kannst du vielleicht die ______ aus der Wand ziehen?", full: "Kannst du vielleicht die NÃ¤gel aus der Wand ziehen?", vn: "Báº¡n rÃºt máº¥y cÃ¡i Ä‘inh trÃªn tÆ°á»ng giÃºp Ä‘Æ°á»£c khÃ´ng?", o: ["Ä‘inh", "á»‘c vÃ­t", "keo", "bÄƒng dÃ­nh"], a: 0},
            {w: "ziehen", f: "ziehen, hat gezogen", e: "Kannst du vielleicht die NÃ¤gel aus der Wand ______ ?", full: "Kannst du vielleicht die NÃ¤gel aus der Wand ziehen?", vn: "Báº¡n rÃºt máº¥y cÃ¡i Ä‘inh trÃªn tÆ°á»ng giÃºp Ä‘Æ°á»£c khÃ´ng?", o: ["rÃºt", "Ä‘Ã³ng", "váº·n", "gá»¡"], a: 0},
            {w: "streichen", f: "streichen, hat gestrichen", e: "Kannst du die WÃ¤nde ______ ?", full: "Kannst du die WÃ¤nde streichen?", vn: "Báº¡n sÆ¡n tÆ°á»ng giÃºp Ä‘Æ°á»£c khÃ´ng?", o: ["sÆ¡n", "dÃ¡n", "lau", "Ä‘á»¥c"], a: 0},
            {w: "die MÃ¼lltonne", f: "die MÃ¼lltonne, -n", e: "Wirf den MÃ¼ll in die ______ !", full: "Wirf den MÃ¼ll in die MÃ¼lltonne!", vn: "Vá»©t rÃ¡c vÃ o thÃ¹ng rÃ¡c Ä‘i!", o: ["thÃ¹ng rÃ¡c", "tÃºi rÃ¡c", "há»™p rÃ¡c", "xe rÃ¡c"], a: 0},
            {w: "der Raum", f: "der Raum, -e", e: "Kannst du vielleicht die ______ putzen?", full: "Kannst du vielleicht die RÃ¤ume putzen?", vn: "Báº¡n lau dá»n phÃ²ng giÃºp Ä‘Æ°á»£c khÃ´ng?", o: ["phÃ²ng", "tÆ°á»ng", "sÃ n", "tráº§n"], a: 0},
            {w: "abschlieÃŸen", f: "abschlieÃŸen, hat abgeschlossen", e: "Kannst du vielleicht die Wohnung ______ ?", full: "Kannst du vielleicht die Wohnung abschlieÃŸen?", vn: "Báº¡n khÃ³a cá»­a nhÃ  giÃºp Ä‘Æ°á»£c khÃ´ng?", o: ["khÃ³a", "má»Ÿ", "Ä‘Ã³ng", "má»Ÿ khÃ³a"], a: 0},
            {w: "abgeben", f: "abgeben, hat abgegeben", e: "Wann sollst du den SchlÃ¼ssel ______ ?", full: "Wann sollst du den SchlÃ¼ssel abgeben?", vn: "Khi nÃ o báº¡n pháº£i tráº£ chÃ¬a khÃ³a?", o: ["tráº£", "láº¥y", "giá»¯", "mÆ°á»£n"], a: 0},
            {w: "aufbauen", f: "aufbauen, hat aufgebaut", e: "Wo sollen wir den Schrank ______ ?", full: "Wo sollen wir den Schrank aufbauen?", vn: "Tá»¥i mÃ¬nh láº¯p tá»§ á»Ÿ Ä‘Ã¢u Ä‘Ã¢y?", o: ["láº¯p", "thÃ¡o", "mang", "Ä‘á»ƒ"], a: 0},
            {w: "auspacken", f: "auspacken, hat ausgepackt", e: "Kannst du vielleicht die Kisten ______ ?", full: "Kannst du vielleicht die Kisten auspacken?", vn: "Báº¡n má»Ÿ thÃ¹ng Ä‘á»“ ra giÃºp Ä‘Æ°á»£c khÃ´ng?", o: ["má»Ÿ ra", "gÃ³i láº¡i", "mang Ä‘i", "Ä‘á»ƒ yÃªn"], a: 0},
            {w: "die Vorsicht", f: "die Vorsicht (Sg.)", e: "______ mit den MÃ¶beln!", full: "Vorsicht mit den MÃ¶beln!", vn: "Cáº©n tháº­n vá»›i Ä‘á»“ Ä‘áº¡c nhÃ©!", o: ["cáº©n tháº­n", "nhanh lÃªn", "cháº­m thÃ´i", "Ä‘á»«ng lo"], a: 0},
            {w: "Ã¼bernehmen", f: "Ã¼bernehmen, hat Ã¼bernommen", e: "Welche Aufgaben ______ Sie gern beim Umzug?", full: "Welche Aufgaben Ã¼bernehmen Sie gern beim Umzug?", vn: "Báº¡n thÃ­ch nháº­n nhiá»‡m vá»¥ nÃ o khi chuyá»ƒn nhÃ ?", o: ["nháº­n", "tá»« chá»‘i", "giao", "chia"], a: 0},
            {w: "der MÃ¼lleimer", f: "der MÃ¼lleimer, -", e: "Alma findet die Vase hÃ¤sslich und will sie in den ______ werfen.", full: "Alma findet die Vase hÃ¤sslich und will sie in den MÃ¼lleimer werfen.", vn: "Alma tháº¥y cÃ¡i bÃ¬nh xáº¥u vÃ  muá»‘n vá»©t vÃ o thÃ¹ng rÃ¡c.", o: ["thÃ¹ng rÃ¡c", "tá»§ kÃ­nh", "bÃ n", "ká»‡"], a: 0},
            {w: "der Sessel", f: "der Sessel, -", e: "Enrico mÃ¶chte das Bild Ã¼ber den ______ hÃ¤ngen.", full: "Enrico mÃ¶chte das Bild Ã¼ber den Sessel hÃ¤ngen.", vn: "Enrico muá»‘n treo bá»©c tranh trÃªn gháº¿ bÃ nh.", o: ["gháº¿ bÃ nh", "gháº¿ sofa", "bÃ n", "ká»‡"], a: 0},
            {w: "die Vase", f: "die Vase, -n", e: "Der beste Platz fÃ¼r die ______ ist im MÃ¼lleimer.", full: "Der beste Platz fÃ¼r die Vase ist im MÃ¼lleimer.", vn: "Chá»— tá»‘t nháº¥t cho cÃ¡i bÃ¬nh lÃ  trong thÃ¹ng rÃ¡c.", o: ["bÃ¬nh hoa", "gháº¿", "bÃ n", "tá»§"], a: 0},
            {w: "stellen", f: "stellen, hat gestellt", e: "Sie ______ die Lampe neben den Schreibtisch.", full: "Sie stellen die Lampe neben den Schreibtisch.", vn: "Há» Ä‘áº·t cÃ¡i Ä‘Ã¨n cáº¡nh bÃ n lÃ m viá»‡c.", o: ["Ä‘áº·t", "treo", "náº±m", "ngá»“i"], a: 0},
            {w: "setzen", f: "setzen, hat gesetzt", e: "Dann ______ ich Bongo auf den Schrank.", full: "Dann setze ich Bongo auf den Schrank.", vn: "Sau Ä‘Ã³ mÃ¬nh Ä‘áº·t Bongo lÃªn tá»§.", o: ["Ä‘áº·t", "treo", "náº±m", "ngá»“i"], a: 0},
            {w: "legen", f: "legen, hat gelegt", e: "Ich ______ den Teppich unter den Schreibtisch.", full: "Ich lege den Teppich unter den Schreibtisch.", vn: "MÃ¬nh Ä‘áº·t tháº£m dÆ°á»›i bÃ n lÃ m viá»‡c.", o: ["Ä‘áº·t", "treo", "náº±m", "ngá»“i"], a: 0},
            {w: "der Teppich", f: "der Teppich, -e", e: "Ich lege den ______ unter den Schreibtisch.", full: "Ich lege den Teppich unter den Schreibtisch.", vn: "MÃ¬nh Ä‘áº·t tháº£m dÆ°á»›i bÃ n lÃ m viá»‡c.", o: ["tháº£m", "rÃ¨m", "cá»­a sá»•", "bÃ¬nh hoa"], a: 0},
            {w: "die Pflanze", f: "die Pflanze, -n", e: "Wohin sollen wir die groÃŸe ______ stellen?", full: "Wohin sollen wir die groÃŸe Pflanze stellen?", vn: "CÃ¡i cÃ¢y to nÃ y Ä‘á»ƒ Ä‘Ã¢u Ä‘Ã¢y?", o: ["cÃ¢y", "bÃ¬nh", "gháº¿", "bÃ n"], a: 0},
            {w: "der Zettel", f: "der Zettel, -", e: "Leg den ______ unter das Buch.", full: "Leg den Zettel unter das Buch.", vn: "Äáº·t tá» giáº¥y dÆ°á»›i cuá»‘n sÃ¡ch.", o: ["tá» giáº¥y", "cuá»‘n sÃ¡ch", "cÃ¡i bÃºt", "cÃ¡i káº¹p"], a: 0},
            {w: "aufteilen", f: "aufteilen, hat aufgeteilt", e: "Und wie habt ihr die Zimmer ______ ?", full: "Und wie habt ihr die Zimmer aufgeteilt?", vn: "Váº­y cÃ¡c báº¡n chia phÃ²ng tháº¿ nÃ o?", o: ["chia", "mua", "bÃ¡n", "thuÃª"], a: 0},
            {w: "das Kinderzimmer", f: "das Kinderzimmer, -", e: "Wohnzimmer, Schlafzimmer, ______ und mir.", full: "Wohnzimmer, Schlafzimmer, Kinderzimmer und mir.", vn: "PhÃ²ng khÃ¡ch, phÃ²ng ngá»§, phÃ²ng tráº» con vÃ  phÃ²ng cá»§a tÃ´i.", o: ["phÃ²ng tráº» con", "phÃ²ng báº¿p", "phÃ²ng táº¯m", "phÃ²ng lÃ m viá»‡c"], a: 0},
            {w: "das Arbeitszimmer", f: "das Arbeitszimmer, -", e: "Wohnzimmer, Schlafzimmer, Kinderzimmer und ______ .", full: "Wohnzimmer, Schlafzimmer, Kinderzimmer und Arbeitszimmer.", vn: "PhÃ²ng khÃ¡ch, phÃ²ng ngá»§, phÃ²ng tráº» con vÃ  phÃ²ng lÃ m viá»‡c.", o: ["phÃ²ng lÃ m viá»‡c", "phÃ²ng tráº» con", "phÃ²ng báº¿p", "phÃ²ng táº¯m"], a: 0},
            {w: "die Ruhe", f: "die Ruhe (Sg.)", e: "Ein Raum, wo man mal in ______ nachdenken kann.", full: "Ein Raum, wo man mal in Ruhe nachdenken kann.", vn: "Má»™t phÃ²ng Ä‘á»ƒ ngá»“i yÃªn tÄ©nh suy nghÄ©.", o: ["yÃªn tÄ©nh", "á»“n Ã o", "vui váº»", "buá»“n"], a: 0},
            {w: "nachdenken", f: "nachdenken, hat nachgedacht", e: "Ein Raum, wo man mal in Ruhe ______ kann.", full: "Ein Raum, wo man mal in Ruhe nachdenken kann.", vn: "Má»™t phÃ²ng Ä‘á»ƒ ngá»“i yÃªn tÄ©nh suy nghÄ©.", o: ["suy nghÄ©", "ngá»§", "Äƒn", "chÆ¡i"], a: 0},
            {w: "zeichnen", f: "zeichnen, hat gezeichnet", e: "Enrico muss fÃ¼r seine Arbeit oft GartenplÃ¤ne ______ .", full: "Enrico muss fÃ¼r seine Arbeit oft GartenplÃ¤ne zeichnen.", vn: "Enrico pháº£i váº½ káº¿ hoáº¡ch vÆ°á»n nhiá»u cho cÃ´ng viá»‡c.", o: ["váº½", "viáº¿t", "Ä‘á»c", "nÃ³i"], a: 0},
            {w: "wahrscheinlich", f: "wahrscheinlich", e: "Und ich brauche das Arbeitszimmer jetzt ______ auch bald.", full: "Und ich brauche das Arbeitszimmer jetzt wahrscheinlich auch bald.", vn: "VÃ  cháº¯c mÃ¬nh cÅ©ng cáº§n phÃ²ng lÃ m viá»‡c sá»›m thÃ´i.", o: ["cháº¯c cháº¯n", "cÃ³ láº½", "khÃ´ng", "chÆ°a"], a: 0},
            {w: "klappen", f: "klappen, hat geklappt", e: "Hat das mit deiner Bewerbung ______ ?", full: "Hat das mit deiner Bewerbung geklappt?", vn: "Viá»‡c xin viá»‡c cá»§a báº¡n cÃ³ Ä‘Æ°á»£c khÃ´ng?", o: ["Ä‘Æ°á»£c", "khÃ´ng Ä‘Æ°á»£c", "chÆ°a", "Ä‘ang"], a: 0},
            {w: "die Chance", f: "die Chance, -n", e: "Es ist noch nicht ganz sicher, aber meine ______ sind sehr, sehr gut!", full: "Es ist noch nicht ganz sicher, aber meine Chancen sind sehr, sehr gut!", vn: "ChÆ°a cháº¯c cháº¯n hoÃ n toÃ n nhÆ°ng cÆ¡ há»™i cá»§a mÃ¬nh tá»‘t láº¯m!", o: ["cÆ¡ há»™i", "thá»i gian", "tiá»n báº¡c", "sá»©c khá»e"], a: 0},
            {w: "die Hauptsache", f: "die Hauptsache (Sg.)", e: "Aber die ______ ist: Ihr habt endlich eine Wohnung gefunden.", full: "Aber die Hauptsache ist: Ihr habt endlich eine Wohnung gefunden.", vn: "NhÆ°ng Ä‘iá»u chÃ­nh lÃ : CÃ¡c báº¡n cuá»‘i cÃ¹ng cÅ©ng tÃ¬m Ä‘Æ°á»£c nhÃ  rá»“i.", o: ["Ä‘iá»u chÃ­nh", "Ä‘iá»u phá»¥", "tiá»n báº¡c", "thá»i gian"], a: 0},
            {w: "die GrÃ¶ÃŸe", f: "die GrÃ¶ÃŸe, -n", e: "Wohnungs______: 75 mÂ²", full: "WohnungsgrÃ¶ÃŸe: 75 mÂ²", vn: "Diá»‡n tÃ­ch nhÃ : 75 mÂ²", o: ["diá»‡n tÃ­ch", "giÃ¡ tiá»n", "vá»‹ trÃ­", "phÃ²ng"], a: 0},
            {w: "eigen", f: "eigen", e: "Alma bekommt ein ______ Kinderzimmer.", full: "Alma bekommt ein eigenes Kinderzimmer.", vn: "Alma cÃ³ phÃ²ng riÃªng cho tráº» con.", o: ["riÃªng", "chung", "lá»›n", "nhá»"], a: 0},
            {w: "modern", f: "modern", e: "Die Wohnung ist ______ .", full: "Die Wohnung ist modern.", vn: "CÄƒn nhÃ  hiá»‡n Ä‘áº¡i láº¯m.", o: ["hiá»‡n Ä‘áº¡i", "cá»• Ä‘iá»ƒn", "cÅ© ká»¹", "báº©n"], a: 0},
            {w: "preiswert", f: "preiswert", e: "Die Wohnung ist ______ .", full: "Die Wohnung ist preiswert.", vn: "CÄƒn nhÃ  giÃ¡ ráº» Ä‘áº¥y.", o: ["giÃ¡ ráº»", "Ä‘áº¯t", "miá»…n phÃ­", "cao cáº¥p"], a: 0},
            {w: "zentral", f: "zentral", e: "Die Wohnung liegt ______ .", full: "Die Wohnung liegt zentral.", vn: "CÄƒn nhÃ  náº±m vá»‹ trÃ­ trung tÃ¢m.", o: ["trung tÃ¢m", "ngoáº¡i Ã´", "xa xÃ´i", "gáº§n sÃ´ng"], a: 0},
            {w: "das Erdgeschoss", f: "das Erdgeschoss, -e", e: "Die Wohnung liegt im ______ .", full: "Die Wohnung liegt im Erdgeschoss.", vn: "CÄƒn nhÃ  á»Ÿ táº§ng trá»‡t.", o: ["táº§ng trá»‡t", "táº§ng láº§u", "táº§ng Ã¡p mÃ¡i", "táº§ng háº§m"], a: 0},
            {w: "erreichen", f: "erreichen, hat erreicht", e: "Die Wohnung ______ man mit einem Lift.", full: "Die Wohnung erreicht man mit einem Lift.", vn: "Äáº¿n cÄƒn nhÃ  báº±ng thang mÃ¡y.", o: ["Ä‘áº¿n", "rá»i", "má»Ÿ", "Ä‘Ã³ng"], a: 0},
            {w: "der Lift", f: "der Lift, -e", e: "Die Wohnung erreicht man mit einem ______ .", full: "Die Wohnung erreicht man mit einem Lift.", vn: "Äáº¿n cÄƒn nhÃ  báº±ng thang mÃ¡y.", o: ["thang mÃ¡y", "cáº§u thang", "xe hÆ¡i", "xe Ä‘áº¡p"], a: 0},
            {w: "die Garage", f: "die Garage, -n", e: "Die Wohnung hat eine ______ .", full: "Die Wohnung hat eine Garage.", vn: "CÄƒn nhÃ  cÃ³ gara.", o: ["gara", "sÃ¢n vÆ°á»n", "ban cÃ´ng", "háº§m"], a: 0}
        ];

        let currentQuestion = 0;
        let score = 0;

        const positiveFeedback = ["Gut gemacht!", "Sehr gut!", "Super!", "Toll!", "Weiter so!", "Prima!", "Genau richtig!"];
        const negativeFeedback = ["Leider falsch!", "Noch nicht richtig!", "Versuch es noch einmal!", "Nicht ganz richtig!", "Schade!", "Falsch!"];

        function speakGerman(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'de-DE';
                utterance.rate = 0.9;
                utterance.volume = 0.9;
                const voices = speechSynthesis.getVoices();
                const deVoice = voices.find(v => v.lang.startsWith('de-'));
                if (deVoice) utterance.voice = deVoice;
                speechSynthesis.cancel();
                speechSynthesis.speak(utterance);
            }
        }

        function startApp() {
            currentQuestion = 0;
            score = 0;
            document.getElementById("start-screen").style.display = "none";
            document.getElementById("end-screen").style.display = "none";
            document.getElementById("quiz-ui").style.display = "block";
            showQuestion();
        }

        function showQuestion() {
            if (currentQuestion >= vocabData.length) {
                showResult();
                return;
            }
            const q = vocabData[currentQuestion];
            const options = [...q.o];
            const correctAnswer = q.a;
            const shuffledOptions = shuffleArray(options);
            const newCorrectIndex = shuffledOptions.indexOf(q.o[correctAnswer]);

            document.getElementById("stat").textContent = `Frage ${currentQuestion + 1} von ${vocabData.length}`;
            document.getElementById("w").textContent = q.w;
            document.getElementById("i").textContent = q.f;
            document.getElementById("e").innerHTML = q.e.replace(/______/g, "___");
            document.getElementById("example-full").style.display = "none";

            const optsDiv = document.getElementById("opts");
            optsDiv.innerHTML = "";
            shuffledOptions.forEach((opt, idx) => {
                const btn = document.createElement("button");
                btn.className = "opt-btn";
                btn.textContent = opt;
                btn.onclick = () => handleClick(idx, btn, q, newCorrectIndex);
                optsDiv.appendChild(btn);
            });

            document.getElementById("feedback").textContent = "";
            document.getElementById("next-btn").style.display = "none";
        }

        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        function handleClick(selectedIdx, btn, q, correctIndex) {
            const allBtns = document.querySelectorAll(".opt-btn");
            if (allBtns[0].disabled) return;

            allBtns.forEach(b => b.disabled = true);

            if (selectedIdx === correctIndex) {
                score++;
                const msg = positiveFeedback[Math.floor(Math.random() * positiveFeedback.length)];
                document.getElementById("feedback").textContent = msg;
                document.getElementById("feedback").style.color = "#27ae60";
                btn.classList.add("correct");
                speakGerman("Richtig!");
                setTimeout(() => {
                    speakGerman(q.f);
                    document.getElementById("full-de").textContent = q.full;
                    document.getElementById("example-vn").textContent = q.vn;
                    document.getElementById("example-full").style.display = "block";
                }, 1800);
            } else {
                const msg = negativeFeedback[Math.floor(Math.random() * negativeFeedback.length)];
                document.getElementById("feedback").textContent = msg;
                document.getElementById("feedback").style.color = "#e74c3c";
                btn.classList.add("wrong");
                allBtns[correctIndex].classList.add("highlight");
                speakGerman("Falsch!");
                setTimeout(() => {
                    speakGerman(q.f);
                }, 1800);
            }

            document.getElementById("next-btn").style.display = "block";
        }

        function nextQuestion() {
            currentQuestion++;
            showQuestion();
        }

        function showResult() {
            document.getElementById("quiz-ui").style.display = "none";
            document.getElementById("end-screen").style.display = "block";
            const percent = Math.round((score / vocabData.length) * 100);
            let comment = percent >= 85 ? "Ausgezeichnet! ðŸŒŸ" : percent >= 70 ? "Sehr gut! ðŸ‘" : percent >= 50 ? "Gut â€“ weiter Ã¼ben! ðŸ’ª" : "NÃ¤chstes Mal besser! ðŸ˜Š";
            document.getElementById("score").innerHTML = `Du hast <strong>${score}/${vocabData.length}</strong> richtig!<br>(${percent} %)<br><br>${comment}`;
        }

        function restartQuiz() {
            startApp();
        }
    </script>
</body>
</html>
