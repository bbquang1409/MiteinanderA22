<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Deutsch Lektion 15 - Bank & Finanzen</title>
    <style>
        body { 
            font-family: system-ui, -apple-system, sans-serif; 
            background: linear-gradient(135deg, #f0f3f9, #e0e7ff); 
            margin: 0; 
            min-height: 100vh; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            padding: 15px; 
            box-sizing: border-box;
        }
        .quiz-card { 
            background: white; 
            width: 100%; 
            max-width: 520px; 
            padding: 28px; 
            border-radius: 24px; 
            box-shadow: 0 15px 50px rgba(0,0,0,0.15); 
            text-align: center; 
        }
        .flag { 
            width: 100px; height: 60px; 
            margin: 0 auto 20px; 
            display: flex; flex-direction: column; 
            border: 1px solid #ccc; border-radius: 5px; overflow: hidden;
        }
        .f-b { background: #000; flex: 1; } 
        .f-r { background: #d00; flex: 1; } 
        .f-g { background: #ff0; flex: 1; }
        h2 { color: #6c5ce7; margin: 0 0 10px; font-size: 2.1rem; }
        .subtitle { color: #555; margin-bottom: 28px; font-size: 1.1rem; }
        .word-de { font-size: 2.5rem; color: #6c5ce7; font-weight: 700; margin: 15px 0; }
        .info-de { color: #e67e22; font-size: 1.15rem; font-style: italic; margin: 10px 0 20px; }
        .example-de { 
            background: #f8fbff; padding: 18px; border-radius: 14px; 
            margin: 20px 0 28px; text-align: left; 
            border-left: 6px solid #6c5ce7; font-size: 1.1rem; line-height: 1.5; 
        }
        .opt-btn { 
            width: 100%; background: #fff; border: 2px solid #e0e0e0; 
            padding: 16px 18px; border-radius: 14px; margin: 10px 0; 
            font-size: 1.15rem; font-weight: 600; cursor: pointer; 
            transition: all 0.25s; text-align: left;
        }
        .opt-btn:hover:not(:disabled) { border-color: #6c5ce7; background: #f8f5ff; }
        .opt-btn:disabled { opacity: 0.75; cursor: not-allowed; }
        .main-btn { 
            width: 100%; padding: 18px; background: #6c5ce7; color: white; 
            border: none; border-radius: 16px; font-size: 1.2rem; font-weight: bold; 
            cursor: pointer; margin-top: 15px;
        }
        #feedback { font-size: 1.3rem; font-weight: bold; margin: 20px 0; min-height: 40px; }
        #stat, #score { font-size: 1rem; color: #666; margin-bottom: 15px; }
        .correct   { background: #e8f5e9 !important; border-color: #4caf50 !important; color: #1b5e20; }
        .wrong     { background: #ffebee !important; border-color: #e53935 !important; color: #b71c1c; }
        .highlight { background: #e8f5e9 !important; border-color: #4caf50 !important; font-weight: bold; cursor: pointer !important; }
    </style>
</head>
<body>
    <div class="quiz-card">
        <div id="start-screen">
            <div class="flag">
                <div class="f-b"></div><div class="f-r"></div><div class="f-g"></div>
            </div>
            <h2>Lektion 15</h2>
            <div class="subtitle">Bank & Finanzen (Amadou â€“ Stadtbank Neuberg)</div>
            <button class="main-btn" onclick="startApp()">STARTEN</button>
        </div>

        <div id="quiz-ui" style="display:none">
            <div id="stat"></div>
            <div class="word-de" id="w"></div>
            <div class="info-de" id="i"></div>
            <div class="example-de" id="e"></div>
            <div id="opts"></div>
            <div id="feedback"></div>
            <button id="next-btn" class="main-btn" style="display:none" onclick="nextQuestion()">WEITER</button>
        </div>

        <div id="end-screen" style="display:none">
            <h2 style="color:#27ae60">Fertig!</h2>
            <div id="score"></div>
            <button class="main-btn" onclick="restartQuiz()">NOCHMAL</button>
        </div>
    </div>

    <script>
        const vocabData = [
            {w: "die Bank", f: "die Bank, die Banken", e: "Henry ist sehr zufrieden mit seiner ______. ", o: ["NgÃ¢n hÃ ng", "CÃ´ng ty", "NhÃ  sÃ¡ch", "Bá»‡nh viá»‡n"], a: 0},
            {w: "das Konto", f: "das Konto, die Konten", e: "Dann ist dein ______ bei uns komplett kostenlos!", o: ["TÃ i khoáº£n", "Tháº» tÃ­n dá»¥ng", "Tiá»n máº·t", "Há»£p Ä‘á»“ng"], a: 0},
            {w: "erledigen", f: "erledigen, hat erledigt", e: "Mit der sicheren Banking-App kann man BankgeschÃ¤fte unterwegs ______. ", o: ["Xá»­ lÃ½/HoÃ n thÃ nh", "Há»§y bá»", "Báº¯t Ä‘áº§u", "TÃ¬m kiáº¿m"], a: 0},
            {w: "das (Online-)Banking", f: "das (Online-)Banking (Singular)", e: "FÃ¼r unser ______ brauchst du nur dein Handy oder Tablet.", o: ["NgÃ¢n hÃ ng trá»±c tuyáº¿n", "TÃ i khoáº£n", "á»¨ng dá»¥ng", "Giao dá»‹ch"], a: 0},
            {w: "abheben", f: "abheben, hat abgehoben", e: "Am Geldautomaten kannst du Geld ______. ", o: ["RÃºt tiá»n", "Gá»­i tiá»n", "Chuyá»ƒn khoáº£n", "Äá»•i tiá»n"], a: 0},
            {w: "das Bargeld", f: "das Bargeld (Singular)", e: "Geld ______ und Bargeld einzahlen.", o: ["Tiá»n máº·t", "Tiá»n láº»", "Tiá»n xu", "Tiá»n giáº¥y"], a: 0},
            {w: "einzahlen", f: "einzahlen, hat eingezahlt", e: "Geld abheben und Bargeld ______. ", o: ["Gá»­i vÃ o", "RÃºt ra", "MÆ°á»£n", "Tráº£ ná»£"], a: 0},
            {w: "Ã¼berweisen", f: "Ã¼berweisen, hat Ã¼berwiesen", e: "Kann man am Geldautomat auch Geld ______? ", o: ["Chuyá»ƒn khoáº£n", "Äá»•i tiá»n", "RÃºt tiá»n", "Tráº£ tiá»n"], a: 0},
            {w: "die PIN", f: "die PIN, die PINs", e: "Wie kann ich die ______ von der Debitkarte Ã¤ndern?", o: ["MÃ£ PIN", "Sá»‘ tÃ i khoáº£n", "TÃªn", "Äá»‹a chá»‰"], a: 0},
            {w: "die Debitkarte", f: "die Debitkarte, die Debitkarten", e: "Die ______ und die PIN werden zusammen zugeschickt.", o: ["Tháº» ná»£", "Tháº» tÃ­n dá»¥ng", "Tiá»n máº·t", "Sá»• há»™ chiáº¿u"], a: 0},
            {w: "die GebÃ¼hr", f: "die GebÃ¼hr, die GebÃ¼hren", e: "Er Ã¤rgert sich: Die Bank hat die ______en erhÃ¶ht.", o: ["PhÃ­ dá»‹ch vá»¥", "LÃ£i suáº¥t", "Tiá»n pháº¡t", "Tiá»n thuáº¿"], a: 0},
            {w: "erhÃ¶hen", f: "erhÃ¶hen, hat erhÃ¶ht", e: "Die Bank hat die GebÃ¼hren ______. ", o: ["TÄƒng lÃªn", "Giáº£m xuá»‘ng", "Giá»¯ nguyÃªn", "Há»§y bá»"], a: 0},
            {w: "kompliziert", f: "kompliziert", e: "Er findet das Online-Banking ______. ", o: ["Phá»©c táº¡p", "ÄÆ¡n giáº£n", "Nhanh chÃ³ng", "An toÃ n"], a: 0},
            {w: "einen Antrag stellen", f: "einen Antrag stellen, hat gestellt", e: "FÃ¼r das neue Online-Banking muss man einen ______ stellen.", o: ["Ná»™p Ä‘Æ¡n", "Gá»­i tiá»n", "RÃºt tiá»n", "Chuyá»ƒn khoáº£n"], a: 0},
            {w: "der Bekannte", f: "der Bekannte, die Bekannten", e: "Bei einem ______ war das so: ...", o: ["NgÆ°á»i quen", "NgÆ°á»i láº¡", "Báº¡n bÃ¨", "Äá»“ng nghiá»‡p"], a: 0},
            {w: "die Bekannte", f: "die Bekannte, die Bekannten", e: "Bei einer ______ war das so: ...", o: ["NgÆ°á»i quen ná»¯", "NgÆ°á»i láº¡", "Báº¡n bÃ¨", "Äá»“ng nghiá»‡p"], a: 0},
            {w: "erÃ¶ffnen", f: "erÃ¶ffnen, hat erÃ¶ffnet", e: "Ich wÃ¼rde kein Konto bei der SBN ______. ", o: ["Má»Ÿ", "ÄÃ³ng", "Chuyá»ƒn", "Kiá»ƒm tra"], a: 0},
            {w: "vergleichen", f: "vergleichen, hat verglichen", e: "Aber ich wÃ¼rde verschiedene Angebote ______. ", o: ["So sÃ¡nh", "Chá»n", "Há»§y", "Gá»­i"], a: 0},
            {w: "die Durchwahl", f: "die Durchwahl, die Durchwahlen", e: "KÃ¶nnten Sie mir die ______ von ... geben?", o: ["Sá»‘ trá»±c tiáº¿p", "Sá»‘ fax", "Sá»‘ di Ä‘á»™ng", "Sá»‘ tá»•ng Ä‘Ã i"], a: 0},
            {w: "das Girokonto", f: "das Girokonto, die Girokonten", e: "Amadou hat ein ______ erÃ¶ffnet.", o: ["TÃ i khoáº£n vÃ£ng lai", "TÃ i khoáº£n tiáº¿t kiá»‡m", "Tháº» ná»£", "Sá»• ná»£"], a: 0},
            {w: "der Dauerauftrag", f: "der Dauerauftrag, die DauerauftrÃ¤ge", e: "Die Miete wird per ______ abgebucht.", o: ["Lá»‡nh chi Ä‘á»‹nh ká»³", "YÃªu cáº§u", "Há»£p Ä‘á»“ng", "HÃ³a Ä‘Æ¡n"], a: 0},
            {w: "abbuchen", f: "abbuchen, hat abgebucht", e: "Die Miete wird automatisch ______. ", o: ["TrÃ­ch tiá»n", "Cá»™ng tiá»n", "Há»§y", "Gá»­i"], a: 0},
            {w: "zuschicken", f: "zuschicken, hat zugeschickt", e: "Die Debitkarte und die PIN werden zusammen ______. ", o: ["Gá»­i Ä‘áº¿n", "Há»§y", "Thay Ä‘á»•i", "Kiá»ƒm tra"], a: 0},
            {w: "der Kontoauszug", f: "der Kontoauszug, die KontoauszÃ¼ge", e: "Die ______ werden per Post gesendet.", o: ["Sao kÃª tÃ i khoáº£n", "Tháº» ATM", "Tiá»n máº·t", "Giáº¥y ná»£"], a: 0},
            {w: "die Ãœberweisung", f: "die Ãœberweisung, die Ãœberweisungen", e: "Bankkunden zahlen Rechnungen meistens per ______. ", o: ["Chuyá»ƒn khoáº£n", "HÃ³a Ä‘Æ¡n", "LÃ£i suáº¥t", "PhÃ­"], a: 0},
            {w: "der Betrag", f: "der Betrag, die BetrÃ¤ge", e: "Diesen ______ muss man insgesamt bezahlen.", o: ["Sá»‘ tiá»n", "HÃ³a Ä‘Æ¡n", "BiÃªn lai", "Tiá»n láº»"], a: 0},
            {w: "der IBAN", f: "der IBAN, die IBANs", e: "Wo muss ich den ______ angeben?", o: ["MÃ£ IBAN", "MÃ£ BIC", "Sá»‘ tÃ i khoáº£n", "TÃªn ngÃ¢n hÃ ng"], a: 0},
            {w: "der BIC", f: "der BIC, die BICs", e: "Jede Bank hat einen ______. ", o: ["MÃ£ BIC", "MÃ£ IBAN", "MÃ£ PIN", "MÃ£ tháº»"], a: 0},
            {w: "der Verwendungszweck", f: "der Verwendungszweck, die Verwendungszwecke", e: "Bitte geben Sie unbedingt den ______ an.", o: ["Má»¥c Ä‘Ã­ch sá»­ dá»¥ng", "Sá»‘ tiá»n", "TÃªn ngÆ°á»i nháº­n", "NgÃ y thÃ¡ng"], a: 0},
            {w: "akzeptieren", f: "akzeptieren, hat akzeptiert", e: "Die Kreditkarte wird auch im Ausland in den meisten GeschÃ¤ften ______. ", o: ["Cháº¥p nháº­n", "Tá»« chá»‘i", "Há»§y bá»", "Cáº¥m"], a: 0},
            {w: "der Zins", f: "der Zins, die Zinsen", e: "FÃ¼r den Bankkredit zahlt man ______. ", o: ["LÃ£i suáº¥t", "Tiá»n gá»‘c", "Tiá»n pháº¡t", "PhÃ­"], a: 0},
            {w: "die Kreditkarte", f: "die Kreditkarte, die Kreditkarten", e: "Wann wird eine neue ______ zugeschickt?", o: ["Tháº» tÃ­n dá»¥ng", "Tháº» ná»£", "Tiá»n máº·t", "Sá»• há»™ chiáº¿u"], a: 0},
            {w: "gÃ¼ltig", f: "gÃ¼ltig", e: "Zum Beispiel, wenn die alte Karte nicht mehr ______. ", o: ["Há»£p lá»‡", "Háº¿t háº¡n", "Má»›i", "CÅ©"], a: 0},
            {w: "leihen", f: "leihen, hat geliehen", e: "Amadou ______ sich auf keinen Fall Geld von Elisas Eltern.", o: ["Vay/MÆ°á»£n", "Cho vay", "Tráº£ tiá»n", "Kiáº¿m tiá»n"], a: 0},
            {w: "teilen", f: "teilen, hat geteilt", e: "Wenn man mit Freunden unterwegs ist, sollte man alle Kosten genau ______. ", o: ["Chia Ä‘á»u", "Cá»™ng dá»“n", "Trá»« bá»›t", "NhÃ¢n lÃªn"], a: 0},
            {w: "die Steuer", f: "die Steuer, die Steuern", e: "Wir lassen unsere ______erklÃ¤rung machen.", o: ["Thuáº¿", "PhÃ­", "Tiá»n pháº¡t", "Báº£o hiá»ƒm"], a: 0},
            {w: "die SteuererklÃ¤rung", f: "die SteuererklÃ¤rung, die SteuererklÃ¤rungen", e: "Wir lassen unsere ______ machen.", o: ["Khai thuáº¿", "BÃ¡o cÃ¡o tÃ i chÃ­nh", "HÃ³a Ä‘Æ¡n", "Há»£p Ä‘á»“ng"], a: 0},
            {w: "der Kredit", f: "der Kredit, die Kredite", e: "Einen ______ aufnehmen.", o: ["Khoáº£n vay", "Tiá»n máº·t", "Tiáº¿t kiá»‡m", "LÆ°Æ¡ng"], a: 0},
            {w: "die Rate", f: "die Rate, die Raten", e: "Man kann bar, mit Karte oder auf ______ bezahlen.", o: ["Tráº£ gÃ³p", "Má»™t láº§n", "Tiá»n máº·t", "Chuyá»ƒn khoáº£n"], a: 0},
            {w: "insgesamt", f: "insgesamt", e: "Diesen Betrag muss man ______ bezahlen.", o: ["Tá»•ng cá»™ng", "Pháº§n", "Má»™t pháº§n", "RiÃªng láº»"], a: 0},
            {w: "aufnehmen", f: "aufnehmen, hat aufgenommen", e: "Ich denke, Amadou sollte keinen Kredit ______. ", o: ["Vay", "Tráº£", "Há»§y", "Gá»­i"], a: 0},
            {w: "abhÃ¤ngig", f: "abhÃ¤ngig", e: "Die Gefahr ist groÃŸ, dass KundInnen immer mehr Kurzzeitkredite aufnehmen und ______ werden.", o: ["Phá»¥ thuá»™c", "Äá»™c láº­p", "Tá»± do", "GiÃ u cÃ³"], a: 0},
            {w: "bar", f: "bar bezahlen", e: "Ein Eis bezahle ich ______. ", o: ["Tiá»n máº·t", "Tháº»", "Chuyá»ƒn khoáº£n", "Ná»£"], a: 0},
            {w: "der Beitrag", f: "der Beitrag, die BeitrÃ¤ge", e: "Den Jahresbeitrag fÃ¼r die Krankenkasse bezahle ich per Dauerauftrag.", o: ["Khoáº£n Ä‘Ã³ng gÃ³p", "Tiá»n pháº¡t", "LÃ£i suáº¥t", "PhÃ­"], a: 0},
            {w: "die Krankenkasse", f: "die Krankenkasse, die Krankenkassen", e: "Den Jahresbeitrag fÃ¼r die ______ bezahle ich per Dauerauftrag.", o: ["Báº£o hiá»ƒm y táº¿", "NgÃ¢n hÃ ng", "Thuáº¿ vá»¥", "Quá»¹ hÆ°u trÃ­"], a: 0},
            {w: "das Benzin", f: "das Benzin (Singular)", e: "Benzin an der Tankstelle bezahle ich mit Karte.", o: ["XÄƒng", "Dáº§u", "NÆ°á»›c", "Äiá»‡n"], a: 0}
        ];

        let currentQuestion = 0;
        let score = 0;

        const positiveFeedback = ["Gut gemacht!", "Sehr gut!", "Super!", "Toll!", "Weiter so!", "Prima!", "Genau richtig!"];
        const negativeFeedback = ["Leider falsch!", "Noch nicht richtig!", "Versuch es noch einmal!", "Nicht ganz richtig!", "Schade!", "Falsch!"];

        function speakGerman(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'de-DE';
                utterance.rate = 0.9;
                utterance.volume = 0.9;
                const voices = speechSynthesis.getVoices();
                const deVoice = voices.find(v => v.lang.startsWith('de-'));
                if (deVoice) utterance.voice = deVoice;
                speechSynthesis.cancel();
                speechSynthesis.speak(utterance);
            }
        }

        function startApp() {
            currentQuestion = 0;
            score = 0;
            document.getElementById("start-screen").style.display = "none";
            document.getElementById("end-screen").style.display = "none";
            document.getElementById("quiz-ui").style.display = "block";
            showQuestion();
        }

        function showQuestion() {
            if (currentQuestion >= vocabData.length) {
                showResult();
                return;
            }
            const q = vocabData[currentQuestion];
            document.getElementById("stat").textContent = `Frage ${currentQuestion + 1} von ${vocabData.length}`;
            document.getElementById("w").textContent = q.w;
            document.getElementById("i").textContent = q.f;
            document.getElementById("e").innerHTML = q.e.replace(/______/g, "___");

            const optsDiv = document.getElementById("opts");
            optsDiv.innerHTML = "";
            q.o.forEach((opt, idx) => {
                const btn = document.createElement("button");
                btn.className = "opt-btn";
                btn.textContent = opt;
                btn.onclick = () => handleClick(idx, btn, q);
                optsDiv.appendChild(btn);
            });

            document.getElementById("feedback").textContent = "";
            document.getElementById("next-btn").style.display = "none";
        }

        function handleClick(selectedIdx, btn, q) {
            const allBtns = document.querySelectorAll(".opt-btn");

            // Náº¿u Ä‘Ã£ tráº£ lá»i xong (disable), áº¥n vÃ o nÃºt Ä‘Ãºng thÃ¬ chá»‰ Ä‘á»c 1 láº§n dáº¡ng Ä‘áº§y Ä‘á»§
            if (allBtns[0].disabled) {
                if (selectedIdx === q.a) {
                    speakGerman(q.f);  // Chá»‰ Ä‘á»c dáº¡ng Ä‘áº§y Ä‘á»§ tá»« sÃ¡ch, vÃ­ dá»¥ "das Konto, die Konten"
                }
                return;
            }

            // Disable táº¥t cáº£ sau khi chá»n láº§n Ä‘áº§u
            allBtns.forEach(b => b.disabled = true);

            if (selectedIdx === q.a) {
                score++;
                const msg = positiveFeedback[Math.floor(Math.random() * positiveFeedback.length)];
                document.getElementById("feedback").textContent = msg;
                document.getElementById("feedback").style.color = "#27ae60";
                btn.classList.add("correct");

                setTimeout(() => {
                    speakGerman("Richtig! " + q.f);
                }, 400);
            } else {
                const msg = negativeFeedback[Math.floor(Math.random() * negativeFeedback.length)];
                document.getElementById("feedback").textContent = msg;
                document.getElementById("feedback").style.color = "#e74c3c";
                btn.classList.add("wrong");

                // Highlight Ä‘Ã¡p Ã¡n Ä‘Ãºng mÃ u xanh
                allBtns[q.a].classList.add("highlight");

                setTimeout(() => {
                    speakGerman("Falsch! " + q.f);
                }, 400);
            }

            document.getElementById("next-btn").style.display = "block";
        }

        function nextQuestion() {
            currentQuestion++;
            showQuestion();
        }

        function showResult() {
            document.getElementById("quiz-ui").style.display = "none";
            document.getElementById("end-screen").style.display = "block";
            const percent = Math.round((score / vocabData.length) * 100);
            let comment = percent >= 85 ? "Ausgezeichnet! ðŸŒŸ" : percent >= 70 ? "Sehr gut! ðŸ‘" : percent >= 50 ? "Gut â€“ weiter Ã¼ben! ðŸ’ª" : "NÃ¤chstes Mal besser! ðŸ˜Š";
            document.getElementById("score").innerHTML = `Du hast <strong>${score}/${vocabData.length}</strong> richtig!<br>(${percent} %)<br><br>${comment}`;
        }

        function restartQuiz() {
            startApp();
        }
    </script>
</body>
</html>
