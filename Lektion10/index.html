<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Deutsch Lektion 10 - Yasmin: Die Bewerbung</title>
    <style>
        body {
            font-family: system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #f0f3f9, #e0e7ff);
            margin: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 15px;
            box-sizing: border-box;
        }
        .quiz-card {
            background: white;
            width: 100%;
            max-width: 540px;
            padding: 28px;
            border-radius: 24px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.15);
            text-align: center;
        }
        .flag {
            width: 100px; height: 60px;
            margin: 0 auto 20px;
            display: flex; flex-direction: column;
            border: 1px solid #ccc; border-radius: 5px; overflow: hidden;
        }
        .f-b { background: #000; flex: 1; }
        .f-r { background: #d00; flex: 1; }
        .f-g { background: #ff0; flex: 1; }
        h2 { color: #6c5ce7; margin: 0 0 10px; font-size: 2.1rem; }
        .subtitle { color: #555; margin-bottom: 28px; font-size: 1.1rem; }
        .word-de { font-size: 2.3rem; color: #6c5ce7; font-weight: 700; margin: 15px 0; }
        .info-de { color: #e67e22; font-size: 1.1rem; font-style: italic; margin: 8px 0 18px; }
        .example-de {
            background: #f8fbff; padding: 16px; border-radius: 14px;
            margin: 18px 0 24px; text-align: left;
            border-left: 6px solid #6c5ce7; font-size: 1.05rem; line-height: 1.45;
        }
        .opt-btn {
            width: 100%; background: #fff; border: 2px solid #e0e0e0;
            padding: 14px 16px; border-radius: 12px; margin: 8px 0;
            font-size: 1.1rem; font-weight: 600; cursor: pointer;
            transition: all 0.25s; text-align: left;
        }
        .opt-btn:hover:not(:disabled) { border-color: #6c5ce7; background: #f8f5ff; }
        .opt-btn:disabled { opacity: 0.75; cursor: not-allowed; }
        .main-btn {
            width: 100%; padding: 16px; background: #6c5ce7; color: white;
            border: none; border-radius: 14px; font-size: 1.15rem; font-weight: bold;
            cursor: pointer; margin-top: 12px;
        }
        #feedback { font-size: 1.25rem; font-weight: bold; margin: 18px 0 10px; min-height: 35px; }
        #example-full { 
            margin: 15px 0; 
            padding: 15px; 
            background: #f0fff0; 
            border-radius: 12px; 
            font-size: 1.05rem; 
            text-align: left; 
            display: none; 
            border: 1px solid #c8e6c9;
        }
        #meaning-title { font-weight: bold; color: #2e7d32; }
        #example-vn { 
            margin-top: 8px; 
            color: #444; 
        }
        #stat, #score { font-size: 0.95rem; color: #666; margin-bottom: 12px; }
        .correct { background: #e8f5e9 !important; border-color: #4caf50 !important; color: #1b5e20; }
        .wrong { background: #ffebee !important; border-color: #e53935 !important; color: #b71c1c; }
        .highlight { background: #e8f5e9 !important; border-color: #4caf50 !important; font-weight: bold; cursor: pointer !important; }
    </style>
</head>
<body>
    <div class="quiz-card">
        <div id="start-screen">
            <div class="flag">
                <div class="f-b"></div><div class="f-r"></div><div class="f-g"></div>
            </div>
            <h2>Lektion 10</h2>
            <div class="subtitle">Yasmin ‚Äì Die Bewerbung</div>
            <button class="main-btn" onclick="startApp()">STARTEN</button>
        </div>
        <div id="quiz-ui" style="display:none">
            <div id="stat"></div>
            <div class="word-de" id="w"></div>
            <div class="info-de" id="i"></div>
            <div class="example-de" id="e"></div>
            <div id="opts"></div>
            <div id="feedback"></div>
            <div id="example-full">
                <span id="meaning-title">√ù nghƒ©a:</span> <span id="example-vn"></span>
            </div>
            <button id="next-btn" class="main-btn" style="display:none" onclick="nextQuestion()">WEITER</button>
        </div>
        <div id="end-screen" style="display:none">
            <h2 style="color:#27ae60">Fertig!</h2>
            <div id="score"></div>
            <button class="main-btn" onclick="restartQuiz()">NOCHMAL</button>
        </div>
    </div>

    <script>
        const vocabData = [
            {w: "die Ausstattung", f: "die Ausstattung, die Ausstattungen", e: "Beste K√ºche ‚Äì Das Spezialgesch√§ft f√ºr K√ºchenger√§te und ______ in Neuburg.", vn: "C·ª≠a h√†ng chuy√™n ƒë·ªì b·∫øp v√† trang thi·∫øt b·ªã t·ªët nh·∫•t ·ªü Neuberg.", o: ["trang thi·∫øt b·ªã", "ƒë·ªì ƒÉn", "n·ªôi th·∫•t", "qu·∫ßn √°o"], a: 0},
            {w: "beraten", f: "beraten, hat beraten", e: "Sie k√∂nnen sehr gut Kunden ______ ?", vn: "B·∫°n c√≥ th·ªÉ t∆∞ v·∫•n kh√°ch h√†ng r·∫•t t·ªët kh√¥ng?", o: ["t∆∞ v·∫•n", "b√°n h√†ng", "mua h√†ng", "s·ª≠a ch·ªØa"], a: 0},
            {w: "der Laden", f: "der Laden, die L√§den", e: "Wir suchen f√ºr unser Laden dringend eine ______ oder einen Fahrer.", vn: "Ch√∫ng t√¥i ƒëang t√¨m g·∫•p ng∆∞·ªùi b√°n h√†ng ho·∫∑c t√†i x·∫ø cho c·ª≠a h√†ng.", o: ["c·ª≠a h√†ng", "nh√† h√†ng", "si√™u th·ªã", "kho"], a: 0},
            {w: "die Bezahlung", f: "die Bezahlung, die Bezahlungen", e: "Sie m√∂chte mehr verdienen und h√§tte gern ______ und einen sicheren Arbeitsplatz.", vn: "C√¥ ·∫•y mu·ªën ki·∫øm nhi·ªÅu h∆°n v√† c√≥ l∆∞∆°ng t·ªët v·ªõi ch·ªó l√†m ·ªïn ƒë·ªãnh.", o: ["l∆∞∆°ng", "th∆∞·ªüng", "l·ª£i nhu·∫≠n", "ti·ªÅn th∆∞·ªüng"], a: 0},
            {w: "flexibel", f: "flexibel", e: "Sie m√∂chte mehr verdienen und h√§tte gern Bezahlung und ______ Arbeitszeiten.", vn: "C√¥ ·∫•y mu·ªën l∆∞∆°ng cao v√† gi·ªù l√†m linh ho·∫°t.", o: ["linh ho·∫°t", "c·ª©ng nh·∫Øc", "d√†i", "ng·∫Øn"], a: 0},
            {w: "die Arbeitszeit", f: "die Arbeitszeit, die Arbeitszeiten", e: "Sie m√∂chte mehr verdienen und h√§tte gern Bezahlung und flexible ______ .", vn: "C√¥ ·∫•y mu·ªën l∆∞∆°ng cao v√† gi·ªù l√†m linh ho·∫°t.", o: ["gi·ªù l√†m vi·ªác", "ng√†y ngh·ªâ", "l∆∞∆°ng", "th∆∞·ªüng"], a: 0},
            {w: "die Stellenanzeige", f: "die Stellenanzeige, -n", e: "Sie hat eine ______ gefunden.", vn: "C√¥ ·∫•y t√¨m th·∫•y tin tuy·ªÉn d·ª•ng r·ªìi.", o: ["tin tuy·ªÉn d·ª•ng", "h·ª£p ƒë·ªìng", "th∆∞ xin vi·ªác", "CV"], a: 0},
            {w: "die Bewerbungsunterlagen", f: "die Bewerbungsunterlagen (Pl.)", e: "Sie schickt die ______ noch nicht an die Firma.", vn: "C√¥ ·∫•y ch∆∞a g·ª≠i h·ªì s∆° ·ª©ng tuy·ªÉn cho c√¥ng ty.", o: ["h·ªì s∆° ·ª©ng tuy·ªÉn", "h·ª£p ƒë·ªìng", "th∆∞ c·∫£m ∆°n", "ti·ªÅn l∆∞∆°ng"], a: 0},
            {w: "der Mietvertrag", f: "der Mietvertrag, die Mietvertr√§ge", e: "Gestern habe ich den ______ bekommen.", vn: "H√¥m qua m√¨nh nh·∫≠n ƒë∆∞·ª£c h·ª£p ƒë·ªìng thu√™ nh√† r·ªìi.", o: ["h·ª£p ƒë·ªìng thu√™ nh√†", "h·ª£p ƒë·ªìng lao ƒë·ªông", "h√≥a ƒë∆°n", "th∆∞"], a: 0},
            {w: "der Vertrag", f: "der Vertrag, die Vertr√§ge", e: "Zuerst musst du einen netten Brief schreiben, das ______ .", vn: "Tr∆∞·ªõc ti√™n ph·∫£i vi·∫øt th∆∞ l·ªãch s·ª±, l√† th∆∞ ·ª©ng tuy·ªÉn.", o: ["h·ª£p ƒë·ªìng", "th∆∞", "CV", "h√≥a ƒë∆°n"], a: 0},
            {w: "das Anschreiben", f: "das Anschreiben, -", e: "Zuerst musst du einen netten Brief schreiben, das ______ .", vn: "Tr∆∞·ªõc ti√™n ph·∫£i vi·∫øt th∆∞ l·ªãch s·ª±, l√† th∆∞ ·ª©ng tuy·ªÉn.", o: ["th∆∞ ·ª©ng tuy·ªÉn", "h·ª£p ƒë·ªìng", "CV", "h√≥a ƒë∆°n"], a: 0},
            {w: "bieten", f: "bieten, hat geboten", e: "Daf√ºr ______ wir sehr gutes Gehalt und eine weitgehend freie Terminplanung.", vn: "Ch√∫ng t√¥i cung c·∫•p l∆∞∆°ng t·ªët v√† gi·ªù l√†m linh ho·∫°t kh√° nhi·ªÅu.", o: ["cung c·∫•p", "nh·∫≠n", "t·ª´ ch·ªëi", "thay ƒë·ªïi"], a: 0},
            {w: "das Gehalt", f: "das Gehalt, die Geh√§lter", e: "Daf√ºr bieten wir sehr gutes ______ und eine weitgehend freie Terminplanung.", vn: "Ch√∫ng t√¥i cung c·∫•p l∆∞∆°ng t·ªët v√† gi·ªù l√†m linh ho·∫°t kh√° nhi·ªÅu.", o: ["l∆∞∆°ng", "th∆∞·ªüng", "l·ª£i nhu·∫≠n", "ti·ªÅn th∆∞·ªüng"], a: 0},
            {w: "der Orchester", f: "der Orchester, -", e: "Wir suchen f√ºr unser ______ dringend eine Fahrerin oder einen Fahrer.", vn: "Ch√∫ng t√¥i ƒëang t√¨m g·∫•p t√†i x·∫ø cho d√†n nh·∫°c.", o: ["d√†n nh·∫°c", "nh√≥m", "ƒë·ªôi", "c√¥ng ty"], a: 0},
            {w: "der Fahrer", f: "der Fahrer, -", e: "Wir suchen f√ºr unser Orchester dringend eine Fahrerin oder einen ______ .", vn: "Ch√∫ng t√¥i ƒëang t√¨m g·∫•p t√†i x·∫ø nam ho·∫∑c n·ªØ cho d√†n nh·∫°c.", o: ["t√†i x·∫ø", "ngh·ªá sƒ©", "nh·∫°c c√¥ng", "qu·∫£n l√Ω"], a: 0},
            {w: "die Fahrerin", f: "die Fahrerin, -nen", e: "Wir suchen f√ºr unser Orchester dringend eine ______ oder einen Fahrer.", vn: "Ch√∫ng t√¥i ƒëang t√¨m g·∫•p t√†i x·∫ø n·ªØ ho·∫∑c nam cho d√†n nh·∫°c.", o: ["t√†i x·∫ø n·ªØ", "ngh·ªá sƒ©", "nh·∫°c c√¥ng", "qu·∫£n l√Ω"], a: 0},
            {w: "der Musiker", f: "der Musiker, -", e: "Ihre Aufgabe: unsere ______ innen zu Konzerten und wieder zur√ºck bringen.", vn: "Nhi·ªám v·ª•: ƒê∆∞a ƒë√≥n nh·∫°c c√¥ng ƒë·∫øn bu·ªïi h√≤a nh·∫°c v√† v·ªÅ l·∫°i.", o: ["nh·∫°c c√¥ng", "t√†i x·∫ø", "ngh·ªá sƒ©", "qu·∫£n l√Ω"], a: 0},
            {w: "die Musikerin", f: "die Musikerin, -nen", e: "Ihre Aufgabe: unsere Musiker______ zu Konzerten und wieder zur√ºck bringen.", vn: "Nhi·ªám v·ª•: ƒê∆∞a ƒë√≥n nh·∫°c c√¥ng n·ªØ ƒë·∫øn bu·ªïi h√≤a nh·∫°c v√† v·ªÅ l·∫°i.", o: ["nh·∫°c c√¥ng n·ªØ", "t√†i x·∫ø", "ngh·ªá sƒ©", "qu·∫£n l√Ω"], a: 0},
            {w: "der Bau", f: "der Bau (Sg.)", e: "Ich arbeite seit vielen Jahren auf dem ______ .", vn: "M√¨nh l√†m vi·ªác tr√™n c√¥ng tr∆∞·ªùng nhi·ªÅu nƒÉm r·ªìi.", o: ["c√¥ng tr∆∞·ªùng", "vƒÉn ph√≤ng", "nh√† m√°y", "c·ª≠a h√†ng"], a: 0},
            {w: "nebenbei", f: "nebenbei", e: "Ich m√∂chte ______ gern noch etwas dazu verdienen.", vn: "M√¨nh mu·ªën l√†m th√™m ƒë·ªÉ ki·∫øm th√™m ti·ªÅn.", o: ["l√†m th√™m", "l√†m ch√≠nh", "ngh·ªâ ng∆°i", "ng·ªß"], a: 0},
            {w: "die Bedienung", f: "die Bedienung, -en", e: "Am liebsten m√∂chte ich am Abend als ______ arbeiten.", vn: "M√¨nh th√≠ch l√†m ph·ª•c v·ª• bu·ªïi t·ªëi nh·∫•t.", o: ["ph·ª•c v·ª•", "ƒë·∫ßu b·∫øp", "thu ng√¢n", "qu·∫£n l√Ω"], a: 0},
            {w: "der Erzieher", f: "der Erzieher, -", e: "Ich habe lange als ______ gearbeitet.", vn: "M√¨nh l√†m gi√°o vi√™n m·∫ßm non l√¢u r·ªìi.", o: ["gi√°o vi√™n m·∫ßm non", "gi√°o vi√™n ph·ªï th√¥ng", "b·∫£o m·∫´u", "tr·ª£ l√Ω"], a: 0},
            {w: "die Erzieherin", f: "die Erzieherin, -nen", e: "Ich habe lange als ______ gearbeitet.", vn: "M√¨nh l√†m gi√°o vi√™n m·∫ßm non n·ªØ l√¢u r·ªìi.", o: ["gi√°o vi√™n m·∫ßm non n·ªØ", "gi√°o vi√™n ph·ªï th√¥ng", "b·∫£o m·∫´u", "tr·ª£ l√Ω"], a: 0},
            {w: "sich ausruhen", f: "sich ausruhen, hat sich ausgeruht", e: "Am Abend ______ Benno und sein Sohn sich aus.", vn: "Bu·ªïi t·ªëi Benno v√† con trai ngh·ªâ ng∆°i.", o: ["ngh·ªâ ng∆°i", "l√†m vi·ªác", "ch∆°i", "ƒÉn"], a: 0},
            {w: "sich √§rgern", f: "sich √§rgern, hat sich ge√§rgert", e: "Du ______ dich in der Sohn aus.", vn: "Con trai l√†m b·∫°n b·ª±c m√¨nh h·∫£?", o: ["b·ª±c m√¨nh", "vui v·∫ª", "b√¨nh tƒ©nh", "m·ªát m·ªèi"], a: 0},
            {w: "sich hinlegen", f: "sich hinlegen, hat sich hingelegt", e: "Ich bin m√ºde. Ich ______ mich hin.", vn: "M√¨nh m·ªát qu√°. N·∫±m ngh·ªâ ƒë√¢y.", o: ["n·∫±m ngh·ªâ", "ng·ªìi d·∫≠y", "ƒë·ª©ng l√™n", "ƒëi l·∫°i"], a: 0},
            {w: "sich rasieren", f: "sich rasieren, hat sich rasiert", e: "Du k√∂nntest dich wieder einmal ______ .", vn: "B·∫°n n√™n c·∫°o r√¢u l·∫°i ƒëi.", o: ["c·∫°o r√¢u", "t·∫Øm", "g·ªôi ƒë·∫ßu", "c·∫Øt t√≥c"], a: 0},
            {w: "sich umziehen", f: "sich umziehen, hat sich umgezogen", e: "Er zieht sich schnell ______ .", vn: "Anh ·∫•y thay ƒë·ªì nhanh l·∫Øm.", o: ["thay ƒë·ªì", "m·∫∑c ƒë·ªì", "c·ªüi ƒë·ªì", "gi·∫∑t ƒë·ªì"], a: 0},
            {w: "sich waschen", f: "sich waschen, hat sich gewaschen", e: "Benno ______ sich.", vn: "Benno ƒëang t·∫Øm r·ª≠a.", o: ["t·∫Øm r·ª≠a", "ƒÉn u·ªëng", "ng·ªß ngh·ªâ", "ch∆°i ƒë√πa"], a: 0},
            {w: "sich verlieben", f: "sich verlieben, hat sich verliebt", e: "Er hat sich ______ .", vn: "Anh ·∫•y ƒëang y√™u r·ªìi.", o: ["y√™u", "gh√©t", "th√≠ch", "ghen"], a: 0},
            {w: "der Fleck", f: "der Fleck, die Flecken", e: "Die Jacke hat einen ______ .", vn: "C√°i √°o kho√°c b·ªã d√≠nh v·∫øt b·∫©n.", o: ["v·∫øt b·∫©n", "n√∫t √°o", "t√∫i √°o", "kh√≥a k√©o"], a: 0},
            {w: "sich f√ºhlen", f: "sich f√ºhlen, hat sich gef√ºhlt", e: "Ich ______ mich heute nicht gut.", vn: "H√¥m nay m√¨nh c·∫£m th·∫•y kh√¥ng kh·ªèe.", o: ["c·∫£m th·∫•y", "nh√¨n th·∫•y", "nghe th·∫•y", "n·∫øm th·∫•y"], a: 0},
            {w: "sich beschweren", f: "sich beschweren, hat sich beschwert", e: "Max hat sich ______ .", vn: "Max ƒëang ph√†n n√†n.", o: ["ph√†n n√†n", "khen ng·ª£i", "im l·∫∑ng", "c∆∞·ªùi"], a: 0},
            {w: "der Salon", f: "der Salon, -s", e: "Ich arbeite im Friseursalon ______ schnitt.", vn: "M√¨nh l√†m ·ªü ti·ªám c·∫Øt t√≥c.", o: ["ti·ªám c·∫Øt t√≥c", "ti·ªám ƒÉn", "c·ª≠a h√†ng", "vƒÉn ph√≤ng"], a: 0},
            {w: "die Schreinerei", f: "die Schreinerei, -en", e: "Sagen Sie, warum Sie in der ______ arbeiten m√∂chten.", vn: "N√≥i xem t·∫°i sao b·∫°n mu·ªën l√†m ·ªü x∆∞·ªüng m·ªôc?", o: ["x∆∞·ªüng m·ªôc", "ti·ªám c·∫Øt t√≥c", "c·ª≠a h√†ng", "vƒÉn ph√≤ng"], a: 0},
            {w: "halbtags", f: "halbtags", e: "Ich m√∂chte gern ______ arbeiten, am liebsten vormittags.", vn: "M√¨nh mu·ªën l√†m n·ª≠a ng√†y, t·ªët nh·∫•t l√† bu·ªïi s√°ng.", o: ["n·ª≠a ng√†y", "c·∫£ ng√†y", "to√†n th·ªùi gian", "t·ªëi"], a: 0},
            {w: "die Vollzeit", f: "die Vollzeit (Sg.)", e: "Sie suchen eine Person in ______ , aber Teilzeit.", vn: "H·ªç t√¨m ng∆∞·ªùi l√†m to√†n th·ªùi gian nh∆∞ng c≈©ng ch·∫•p nh·∫≠n b√°n th·ªùi gian.", o: ["to√†n th·ªùi gian", "n·ª≠a th·ªùi gian", "linh ho·∫°t", "t·ª± do"], a: 0},
            {w: "die Teilzeit", f: "die Teilzeit (Sg.)", e: "Sie suchen eine Person in Vollzeit, aber ______ .", vn: "H·ªç t√¨m ng∆∞·ªùi l√†m to√†n th·ªùi gian nh∆∞ng c≈©ng ch·∫•p nh·∫≠n b√°n th·ªùi gian.", o: ["b√°n th·ªùi gian", "to√†n th·ªùi gian", "linh ho·∫°t", "t·ª± do"], a: 0},
            {w: "der Service", f: "der Service (Sg.)", e: "______ kraft (m/w/d) gesucht.", vn: "ƒêang tuy·ªÉn nh√¢n vi√™n ph·ª•c v·ª• (nam/n·ªØ/kh√°c).", o: ["ph·ª•c v·ª•", "ƒë·∫ßu b·∫øp", "thu ng√¢n", "qu·∫£n l√Ω"], a: 0},
            {w: "die Ausbildung", f: "die Ausbildung, -en", e: "Wir suchen f√ºr sechs Monate eine ______ f√ºr unsere Kantine.", vn: "Ch√∫ng t√¥i tuy·ªÉn h·ªçc vi·ªác 6 th√°ng cho cƒÉng tin.", o: ["h·ªçc vi·ªác", "l√†m vi·ªác", "ngh·ªâ vi·ªác", "thƒÉng ch·ª©c"], a: 0},
            {w: "das Interesse", f: "das Interesse, -n", e: "Haben Sie ______ ?", vn: "B·∫°n c√≥ h·ª©ng th√∫ kh√¥ng?", o: ["h·ª©ng th√∫", "ti·ªÅn b·∫°c", "th·ªùi gian", "s·ª©c kh·ªèe"], a: 0},
            {w: "vereinbaren", f: "vereinbaren, hat vereinbart", e: "Haben Sie Interesse gerne und ______ einen Termin mit uns.", vn: "B·∫°n c√≥ h·ª©ng th√∫ th√¨ h·∫πn g·∫∑p ch√∫ng t√¥i nh√©.", o: ["h·∫πn g·∫∑p", "h·ªßy g·∫∑p", "ƒë·∫øn mu·ªôn", "ƒëi s·ªõm"], a: 0},
            {w: "die Einrichtung", f: "die Einrichtung, -en", e: "Das Martha-Maria-Seniorenheim ist eine ______ .", vn: "Nh√† d∆∞·ª°ng l√£o Martha-Maria l√† m·ªôt c∆° s·ªü.", o: ["c∆° s·ªü", "c·ª≠a h√†ng", "tr∆∞·ªùng h·ªçc", "b·ªánh vi·ªán"], a: 0},
            {w: "der Tagesvater", f: "der Tagesvater, -", e: "Du liebst Kinder und m√∂chtest gern als ______ jobben?", vn: "B·∫°n y√™u tr·∫ª con v√† mu·ªën l√†m b·ªë nu√¥i ban ng√†y h·∫£?", o: ["b·ªë nu√¥i ban ng√†y", "m·∫π nu√¥i ban ng√†y", "gi√°o vi√™n", "b·∫£o m·∫´u"], a: 0},
            {w: "die Tagesmutter", f: "die Tagesmutter, -", e: "Du liebst Kinder und m√∂chtest gern als Tagesvater/-______ jobben?", vn: "B·∫°n y√™u tr·∫ª con v√† mu·ªën l√†m b·ªë/m·∫π nu√¥i ban ng√†y h·∫£?", o: ["m·∫π nu√¥i ban ng√†y", "b·ªë nu√¥i ban ng√†y", "gi√°o vi√™n", "b·∫£o m·∫´u"], a: 0},
            {w: "jobben", f: "jobben, hat gejobbt", e: "Du liebst Kinder und m√∂chtest gern als Tagesvater/-mutter ______ ?", vn: "B·∫°n y√™u tr·∫ª con v√† mu·ªën l√†m th√™m c√¥ng vi·ªác n√†y h·∫£?", o: ["l√†m th√™m", "ngh·ªâ vi·ªác", "thƒÉng ch·ª©c", "h·ªçc vi·ªác"], a: 0},
            {w: "die Organisation", f: "die Organisation, -en", e: "Aber du hast keine Lust auf ______ /Verwaltung.", vn: "Nh∆∞ng b·∫°n kh√¥ng th√≠ch l√†m t·ªï ch·ª©c/qu·∫£n l√Ω.", o: ["t·ªï ch·ª©c", "l√†m vi·ªác", "ngh·ªâ ng∆°i", "ch∆°i"], a: 0},
            {w: "sich k√ºmmern", f: "sich k√ºmmern, hat sich gek√ºmmert", e: "Wir organisieren die Jobs f√ºr dich und ______ ums bei der Zusammenarbeit.", vn: "Ch√∫ng t√¥i s·∫Øp x·∫øp c√¥ng vi·ªác cho b·∫°n v√† lo vi·ªác ph·ªëi h·ª£p.", o: ["chƒÉm s√≥c", "b·ªè m·∫∑c", "t·ª´ ch·ªëi", "chuy·ªÉn giao"], a: 0},
            {w: "die Betreuung", f: "die Betreuung, -en", e: "______ dich um die Kinderbetreuung.", vn: "ChƒÉm s√≥c tr·∫ª con.", o: ["chƒÉm s√≥c", "d·∫°y h·ªçc", "ch∆°i", "ƒÉn u·ªëng"], a: 0},
            {w: "die Qualifikation", f: "die Qualifikation, -en", e: "Ihre ______ : mehrj√§hrige Erfahrung im Verkauf.", vn: "Y√™u c·∫ßu: C√≥ kinh nghi·ªám b√°n h√†ng nhi·ªÅu nƒÉm.", o: ["kinh nghi·ªám", "b·∫±ng c·∫•p", "l∆∞∆°ng", "th·ªùi gian"], a: 0}
        ];

        let currentQuestion = 0;
        let score = 0;

        const positiveFeedback = ["Gut gemacht!", "Sehr gut!", "Super!", "Toll!", "Weiter so!", "Prima!", "Genau richtig!"];
        const negativeFeedback = ["Leider falsch!", "Noch nicht richtig!", "Versuch es noch einmal!", "Nicht ganz richtig!", "Schade!", "Falsch!"];

        function speakGerman(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'de-DE';
                utterance.rate = 0.9;
                utterance.volume = 0.9;
                const voices = speechSynthesis.getVoices();
                const deVoice = voices.find(v => v.lang.startsWith('de-'));
                if (deVoice) utterance.voice = deVoice;
                speechSynthesis.cancel();
                speechSynthesis.speak(utterance);
            }
        }

        function startApp() {
            currentQuestion = 0;
            score = 0;
            document.getElementById("start-screen").style.display = "none";
            document.getElementById("end-screen").style.display = "none";
            document.getElementById("quiz-ui").style.display = "block";
            showQuestion();
        }

        function showQuestion() {
            if (currentQuestion >= vocabData.length) {
                showResult();
                return;
            }
            const q = vocabData[currentQuestion];
            const options = [...q.o];
            const correctAnswer = q.a;
            const shuffledOptions = shuffleArray(options);
            const newCorrectIndex = shuffledOptions.indexOf(q.o[correctAnswer]);

            document.getElementById("stat").textContent = `Frage ${currentQuestion + 1} von ${vocabData.length}`;
            document.getElementById("w").textContent = q.w;
            document.getElementById("i").textContent = q.f;
            document.getElementById("e").innerHTML = q.e.replace(/______/g, "___");
            document.getElementById("example-full").style.display = "none";

            const optsDiv = document.getElementById("opts");
            optsDiv.innerHTML = "";
            shuffledOptions.forEach((opt, idx) => {
                const btn = document.createElement("button");
                btn.className = "opt-btn";
                btn.textContent = opt;
                btn.onclick = () => handleClick(idx, btn, q, newCorrectIndex);
                optsDiv.appendChild(btn);
            });

            document.getElementById("feedback").textContent = "";
            document.getElementById("next-btn").style.display = "none";
        }

        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        function handleClick(selectedIdx, btn, q, correctIndex) {
            const allBtns = document.querySelectorAll(".opt-btn");
            allBtns.forEach(b => b.classList.remove("wrong", "correct", "highlight")); // Reset ƒë·ªÉ ch·ªçn l·∫°i

            if (selectedIdx === correctIndex) {
                score++;
                const msg = positiveFeedback[Math.floor(Math.random() * positiveFeedback.length)];
                document.getElementById("feedback").textContent = msg;
                document.getElementById("feedback").style.color = "#27ae60";
                btn.classList.add("correct");
                speakGerman("Richtig! " + q.f); // Ph√°t √¢m r√µ s·ªë √≠t + s·ªë nhi·ªÅu
                setTimeout(() => {
                    document.getElementById("example-vn").textContent = q.vn;
                    document.getElementById("example-full").style.display = "block";
                    allBtns.forEach(b => b.disabled = true); // Kh√≥a khi ƒë√∫ng
                    document.getElementById("next-btn").style.display = "block";
                }, 1800);
            } else {
                const msg = negativeFeedback[Math.floor(Math.random() * negativeFeedback.length)];
                document.getElementById("feedback").textContent = msg;
                document.getElementById("feedback").style.color = "#e74c3c";
                btn.classList.add("wrong");
                allBtns[correctIndex].classList.add("highlight");
                speakGerman("Falsch! Die richtige Antwort ist: " + q.f);
                // KH√îNG disable ƒë·ªÉ th·ª≠ l·∫°i khi sai
            }
        }

        function nextQuestion() {
            currentQuestion++;
            showQuestion();
        }

        function showResult() {
            document.getElementById("quiz-ui").style.display = "none";
            document.getElementById("end-screen").style.display = "block";
            const percent = Math.round((score / vocabData.length) * 100);
            let comment = percent >= 85 ? "Ausgezeichnet! üåü" : percent >= 70 ? "Sehr gut! üëç" : percent >= 50 ? "Gut ‚Äì weiter √ºben! üí™" : "N√§chstes Mal besser! üòä";
            document.getElementById("score").innerHTML = `Du hast <strong>${score}/${vocabData.length}</strong> richtig!<br>(${percent} %)<br><br>${comment}`;
        }

        function restartQuiz() {
            startApp();
        }
    </script>
</body>
</html>
